(()=>{var e,n={28720:(e,n,t)=>{"use strict";var a={};t.r(a),t.d(a,{enableNewLoginExperience:()=>d,enableNothing:()=>c});var r=t(95514),i=t(16247),o=t.n(i),s=(t(38858),t(62172),t(69645),t(37892),t(49932),t(99576)),l=t(1409),u=t(39661),c=(0,u.m9)({name:"enableNothing",description:"Property to that does nothing.",default:!1}),d=(0,u.m9)({name:"enableNewLoginExperience",description:"Enable new login design and experience",default:!1}),p=t(81226),f=t(55853),m=(t(51945),t(39921),t(30758)),g=t(32303),h=t(87083);const b="EDO6W2NIL5kJzuuvw2J7",v="bnCvPLsrkevVeOYYpwQG",E="qizIRC62kg8aAqE5y1K6";var y=t(53959),A=t(44073),w=t(26416),k=t(99342),D=(t(60905),t(51725),t(78381),t(94238),t(63619),t(9332),t(21932),t(60850),t(67560),t(84008),t(21256),t(48224),t(11141),t(66874),t(83892),t(2264),t(88988),t(77458),t(39782),t(86358),t(13195),t(9981),t(73679),t(31840),t(45991),t(61689),t(36490),t(37344),t(66230),t(88402),t(93902),t(7410),t(50247),t(50252),t(22081),t(13903),t(3794),t(92063),t(32440),t(52767),t(41859),t(88190),t(4207),t(94758)),S=t.n(D);t(98168),t(79443),t(21328),t(55815),t(32543),t(177);var x,C=864e5,F=function(){return(0,k.A)((function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((0,w.A)(this,e),(0,p.A)(this,"_cache",new Map),this._ttl=n,null!==n&&(n<1||n>C))throw new Error("TTL should be between ".concat(1," (1 ms) and ").concat(C," (1 day)."))}),[{key:"isExpired",value:function(e){return null!==e.expiry&&e.expiry<Date.now()}},{key:"getExpiry",value:function(){return null!==this._ttl?Date.now()+this._ttl:null}},{key:"entries",value:function(){return this._cache.entries()}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"peek",value:function(e){var n=this._cache.get(e);return null==n?void 0:n.value}},{key:"get",value:function(e){var n=this._cache.get(e);if(void 0!==n){if(!this.isExpired(n))return n.value;this._cache.delete(e)}}},{key:"set",value:function(e,n){this._cache.set(e,{value:n,expiry:this.getExpiry()})}},{key:"create",value:function(e,n){var t=this.get(e);if(void 0===t){var a=n();return this.set(e,a),a}return t}},{key:"delete",value:function(e){this._cache.delete(e)}},{key:"clear",value:function(){this._cache.clear()}},{key:"cleanup",value:function(){var e=this;this._cache.forEach((function(n,t){e.isExpired(n)&&e._cache.delete(t)}))}}])}(),O=function(e){return e.AR="، ",e.FA="، ",e.EN=", ",e}({}),N=function(e){return e.af="af",e.am="am",e.ar="ar",e.arEG="ar-EG",e.arMA="ar-MA",e.arSA="ar-SA",e.az="az",e.bg="bg",e.bn="bn",e.bho="bho",e.bs="bs",e.ca="ca",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.enGB="en-GB",e.es419="es-419",e.es="es",e.esAR="es-AR",e.esMX="es-MX",e.et="et",e.eu="eu",e.fa="fa",e.fi="fi",e.fil="fil",e.frCA="fr-CA",e.fr="fr",e.gl="gl",e.gu="gu",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.id="id",e.is="is",e.it="it",e.ja="ja",e.kn="kn",e.ko="ko",e.lt="lt",e.lv="lv",e.mk="mk",e.ml="ml",e.mr="mr",e.ms="ms",e.nb="nb",e.ne="ne",e.nl="nl",e.or="or",e.paIN="pa-IN",e.paPK="pa-PK",e.pl="pl",e.ptBR="pt-BR",e.ptPT="pt-PT",e.ro="ro",e.ru="ru",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.th="th",e.tr="tr",e.uk="uk",e.ur="ur",e.vi="vi",e.zhCN="zh-CN",e.zhHK="zh-HK",e.zhTW="zh-TW",e.zu="zu",e}({});function _(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return L(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw i}}}}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}var P=new Intl.Locale(N.en);Object.values(N);var T=function(){return(0,k.A)((function e(){(0,w.A)(this,e),(0,p.A)(this,"_localeForTranslation",P),(0,p.A)(this,"_localeForFormatting",P),(0,p.A)(this,"_localeForURLPath",P),(0,p.A)(this,"_translations",{}),(0,p.A)(this,"_relativeTimeFormat",null),(0,p.A)(this,"_dateTimeFormats",new F),(0,p.A)(this,"_pluralRules",null)}),[{key:"getRelativeTimeFormat",value:function(){return null===this._relativeTimeFormat&&(this._relativeTimeFormat=new Intl.RelativeTimeFormat(this._localeForFormatting)),this._relativeTimeFormat}},{key:"getDateTimeFormat",value:function(e){var n=this,t=JSON.stringify(Object.keys(e).sort().map((function(n){return(0,p.A)({},n,e[n])})));return this._dateTimeFormats.create(t,(function(){return new Intl.DateTimeFormat(n._localeForFormatting,e)}))}},{key:"getPluralRules",value:function(){return null===this._pluralRules&&(this._pluralRules=new Intl.PluralRules(this._localeForTranslation)),this._pluralRules}},{key:"getPluralKey",value:function(e){var n=this.getPluralRules();try{return"string"==typeof e&&(e=parseInt(e,10)),n.select(e)}catch(e){return"other"}}},{key:"initialize",value:function(e){var n,t=e.localeForTranslation,a=e.localeForFormatting,r=e.translations;this._localeForTranslation=new Intl.Locale(t),this._localeForFormatting=("string"==typeof(n=null!=a?a:t)&&(n=new Intl.Locale(n)),"ar"===n.baseName?new Intl.Locale(n,{numberingSystem:"latn"}):n),this._localeForURLPath=function(e){"string"==typeof e&&(e=new Intl.Locale(e));var n=new Set([N.paIN,N.paPK,N.zhCN,N.zhTW,N.zhHK]);return e?n.has(e.baseName)?e:new Intl.Locale(e.language):P}(t),this._relativeTimeFormat=null,this._dateTimeFormats.clear(),this._pluralRules=null,this._translations=r}},{key:"getLocaleForTranslation",value:function(){return this._localeForTranslation.baseName}},{key:"getLocaleForFormatting",value:function(){return this._localeForFormatting.baseName}},{key:"getLocaleForURLPath",value:function(){return this._localeForURLPath.baseName}},{key:"getLocaleForSmartling",value:function(){var e=this._localeForTranslation.baseName;return S()[e]||e}},{key:"getTranslations",value:function(){return this._translations}},{key:"toLocaleLowerCase",value:function(e){return null==e?void 0:e.toLocaleLowerCase(this._localeForTranslation)}},{key:"toLocaleUpperCase",value:function(e){return null==e?void 0:e.toLocaleUpperCase(this._localeForTranslation)}},{key:"get",value:function(e){for(var n=this,t=(e in this._translations?this._translations[e]:e),a="",r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if("string"!=typeof t){var s=i[0],l=t[this.getPluralKey(s)];void 0!==l?a=l:t.other&&(a=t.other)}else a=t;if(/%\d%/.test(a)){if(!["desktop.login.DefaultErrorMessage","desktop.login.ErrorProxyAuthRequired","desktop.login.MissingUserInfoMessage","desktop.login.RegionMismatchMessage","desktop.login.ClientUpdateFail","desktop.login.FbUserNotFoundSignUp","desktop-auth.error"].includes(e))throw new Error("i18n: The placeholder format %0% is legacy and is only allowed for existing strings.")}var u={},c={};i.forEach((function(e,n){var t,a=_("object"!==(0,A.A)(e)||null===e||(0,m.isValidElement)(e)?[[n,e]]:Object.entries(e));try{for(a.s();!(t=a.n()).done;){var r=(0,f.A)(t.value,2),i=r[0],o=r[1];(0,m.isValidElement)(o)?c[i]=o:void 0!==o&&(u[i]=o)}}catch(e){a.e(e)}finally{a.f()}})),a=a.replace(R(Object.keys(u)),(function(e,t){var a=t.slice(1,-1),r=u[a];return"number"==typeof r?n.formatNumber(r):r}));var d=Object.keys(c);return d.length?(0,m.createElement)(m.Fragment,null,a.split(R(d)).map((function(e,n){if(n%2){var t,a=e.slice(1,-1),r=c[a];return(0,m.cloneElement)(r,{key:null!==(t=r.key)&&void 0!==t?t:a})}return e})).filter((function(e){return""!==e}))):a}},{key:"getSeparator",value:function(){switch(new Intl.Locale(this._localeForTranslation).language){case N.ar:return O.AR;case N.fa:return O.FA;default:return O.EN}}},{key:"formatNumber",value:function(e,n){return e.toLocaleString(this._localeForFormatting,n)}},{key:"formatNumberCompact",value:function(e){return this.formatNumber(e,{notation:"compact",maximumFractionDigits:1})}},{key:"formatDate",value:function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||{year:"numeric",month:"long",day:"numeric"};return this.getDateTimeFormat(n).format(e)}},{key:"formatRelativeDate",value:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=this.getRelativeTimeFormat(),i=e.getTime()-a.getTime(),o=Math.abs(i)<2592e6;if(null!==r&&o){var s=(n=i,{seconds:Math.round(n/1e3),minutes:Math.round(n/1e3/60),hours:Math.round(n/1e3/60/60),days:Math.round(n/1e3/60/60/24),weeks:Math.round(n/1e3/60/60/24/7)}),l=s.weeks,u=s.days,c=s.hours,d=s.minutes,p=s.seconds;return Math.abs(u)>=7?r.format(l,"weeks"):Math.abs(c)>=24?r.format(u,"days"):Math.abs(d)>=60?r.format(c,"hours"):Math.abs(p)>=60?r.format(d,"minutes"):r.format(p,"seconds")}return this.formatDate(e,t)}}])}();function R(e){var n="(?:".concat(e.join("|"),")");return new RegExp(String.raw(x||(x=(0,y.A)(["({","}|%","%)"],["(\\{","\\}|%","%)"])),n,n),"g")}var j=new T,M=t(86070),I=function(e){var n=e.toggleSettings;return(0,M.jsxs)("header",{className:b,children:[(0,M.jsx)("div",{children:(0,M.jsx)("img",{className:v,src:"images/logo.svg",alt:""})}),(0,M.jsxs)("div",{className:E,children:[(0,M.jsx)(g.$,{onClick:n,size:"small",colorSet:"invertedDark",children:j.get("desktop.login.PreferencesLink")}),(0,M.jsx)(g.$,{as:"a",href:"https://open.spotify.com/",size:"small",iconTrailing:h.H,colorSet:"invertedDark",children:j.get("desktop-auth.login.preview-experience")})]})]})};const B="dDq7z7SMlOtaz9XvBhD8",U="U5LyL65TJ6tdGjHlaK1q",V="awxiyoFzSyDm_MbWN_eY";var H=t(63156),W=t(45286),z=t(34848),G=function(e){return e.XSMALL="XSMALL",e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE",e.XLARGE="XLARGE",e}({});const K="_Cavu1tQ2xHOf1gnVGLI",Y="OAeAxLyDsiZO9kZm0WTJ",X="aO8ExrFCupBc13AZlOiu";var J=t(10203);const q="RKmCwNfF52QOvDMMoteA",Z="VDAySBjjOh9Kf83VFHyw",Q="N8UxiIkVqP_rLpZHNysn",$="E5bQk5goX9hChELcTBbe",ee="cgl3eWBkELRCNdMhDX8w",ne="cRd8EyQyHz4DK42rr3yw";t(41679),t(81443),t(74457),t(6844);var te=t(17450),ae=t(97500),re=t.n(ae),ie=t(76595),oe=t.n(ie),se=function(e){return e.DISABLED="DISABLED",e.RESTRICTED="RESTRICTED",e.ENABLED="ENABLED",e}({}),le=function(e){return e.DISABLED="DISABLED",e.TWO_USER="TWO_USER",e.MULTI_USER="MULTI_USER",e}({}),ue=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({}),ce=function(e){return e.DEFAULT="default",e.VARIANTA="varianta",e.VARIANTB="variantb",e}({}),de=function(e){return e.DEFAULT="default",e.VARIANTA="varianta",e.VARIANTB="variantb",e}({}),pe=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({}),fe=((0,u.m9)({name:"exampleOfSharedPropertyThatDoesNotExist",description:"Example of enabling a propoerty that is shared between Desktop, Mobile and Embed",default:!1}),(0,u.m9)({name:"enableOfflineVideoDev",description:"Enables Spotify videos to be offlined on DesktopX. Used during feature development",default:!1}),(0,u.m9)({name:"betamaxWidevineVersionSupported",description:"true if the version of widevine used is still supported.",default:!0}),(0,u.m9)({name:"betamaxBoomboxAudioSync",description:"true if video/audio sync is enabled (experimental).",default:!1}),(0,u.HW)({name:"betamaxOfflineTargetBitrate",description:"targetBitrate to use when offlining. The closest to this bitrate to this is used.",default:12e5,lower:1e3,upper:1e9}),(0,u.m9)({name:"enableBetamaxSdkSubtitlesDesktopX",description:"Enables subtitles setting and rendering subtitles on the betamax SDK on DesktopX",default:!0}),(0,u.m9)({name:"enableBetamaxSdkMuxDesktopXDev",description:"Enables MUX library for development on Desktop X",default:!1}),(0,u.m9)({name:"enableVideoOnVideoSaiDev",description:"Enables video-on-video SAI on videos Desktop X. Used during feature development",default:!0}),(0,u.m9)({name:"enableBetamaxSdkVmp",description:"Enables client-side widevine VMP (verified media path) on betamax SDK.",default:!0}),(0,u.m9)({name:"enableBetamaxSdkVideoOnVideoSai",description:"Enables video-on-video SAI on videos Desktop X",default:!1}),(0,u.HW)({name:"betamaxSdkMinimumBuffer",description:"Sets the minimum buffer goal (in seconds) required before starting or resuming playback video on betamax SDK",default:2,upper:8,lower:0}),(0,u.HW)({name:"betamaxSdkRetryAttempts",description:"The number of times to retry on network",default:2,upper:100,lower:1}),(0,u.m9)({name:"betamaxSdkDataSaverV2",description:"Enables the data saver feature on betamax SDK (linked to the video show/hide controls and close video window)",default:!0}),(0,u.HW)({name:"betamaxSdkDataSaverBufferMargin",description:"Sets the amount of buffer in seconds to be kept when disabling data saver (lower = faster variant change)",default:4,upper:100,lower:0}),(0,u.m9)({name:"betamaxVideoAutoplay",description:"Enables an alternative method for video autoplay to address Mux metrics",default:!1}),(0,u.m9)({name:"enableBetamaxSdkInitialLowBitrateV2",description:"Optimize startup time by choosing the lowest quality for the first segment",default:!0}),(0,u.m9)({name:"enableBetamaxSdkSurfaceBasedResolutionCapV2",description:"Enables surface-based resolution cap for adaptive video on betamax SDK",default:!0}),(0,u.HW)({name:"betamaxSdkMaxBitrate",description:"Sets the max bitrate cap for adaptive video on betamax SDK (0=disabled)",default:0,upper:1e8,lower:0}),(0,u.m9)({name:"enableBetamaxSdkPlayerPool",description:"Enables player pool for betamax SDK",default:!1}),(0,u.HW)({name:"betamaxSdkPlayerPoolSize",description:"Sets the player pool size, should it be enabled",default:20,upper:100,lower:0}),(0,u.m9)({name:"enableVideoPip",description:"Enables desktop picture-in-picture surface using betamax SDK.",default:!1}),(0,u.m9)({name:"betamaxUsePendingStorage",description:"true if pending storage is used to generate BetamaxPlaybackSession messages, false if using only the normal event sender.",default:!0}),(0,u.m9)({name:"betamaxAutoSeekToAdPosition",description:"If true, the player will seek to the ad position when an stop position is registered. Usefull for debugging ads.",default:!1}),(0,u.m9)({name:"enableAutoSeekToVideoBufferedStartPosition",description:"Automatically seek to the video buffered start position on load to avoid initial seek if the initial position is not buffered",default:!1}),(0,u.m9)({name:"enableStreamReportingTracker3",description:"Enables use of the StreamReporting module for video playback",default:!0}),(0,u.m9)({name:"enableStreamReportingTrackerStopVideoPlaybackOnError",description:"The StreamReportingTracker module stop video playback when an error in reporting occurs",default:!1}),(0,u.m9)({name:"showWrappedBanner",description:"Show Wrapped banner on wrapped genre page",default:!1}),(0,u.BL)({name:"enableBlendInvitation",description:"Enable users to join Blends through client-web",values:le,default:le.DISABLED}),(0,u.m9)({name:"enableSubtitlesUsingHarmony",description:"Enable subtitles using Harmony",default:!1}),(0,u.m9)({name:"enableUriLinks",description:"Enable the `uri_link` type in Web API /views",default:!1}),(0,u.BL)({name:"enableI18nRoutes",description:"Enable internationalized routes for all locales in EXPERIMENTAL_INTERNATIONALIZED_LOCALES.",values:ue,default:ue.DEFAULT}),(0,u.m9)({name:"enableCastConnect",description:"Enable Google's new Cast Connect feature for Android TV from Web Player's Cast Sender implementation",default:!1}),(0,u.m9)({name:"enableNewEpisodes",description:"Enable the new episodes view",default:!1}),(0,u.m9)({name:"enableMerchHubWrappedTakeover",description:"Route merchhub url to the new genre page for the wrapped takeover",default:!1}),(0,u.BL)({name:"merchVariantExperiment",description:"Merch shelf re-ordering experiment on Artist Profile Page(A/B/C test)",values:ce,default:ce.DEFAULT}),(0,u.BL)({name:"OnTourVariantExperiment",description:"On Tour shelf re-ordering experiment on Artist Page(A/B/C test)",values:de,default:de.DEFAULT}),(0,u.m9)({name:"enableMerchOnAlbum",description:"Enable merch shelf view on album page",default:!1}),(0,u.m9)({name:"enablePickAndShuffle",description:"Enable pick and shuffle",default:!1}),(0,u.m9)({name:"enableNewTicketingSection",description:"Enable New Ticketing section on Concert Event Pages",default:!1}),(0,u.m9)({name:"enableEqualizer",description:"Enable audio equalizer for Desktop and Web Player",default:!1}),(0,u.m9)({name:"betamaxFilterNegativeDuration",description:"Remove updates to esperanto for duration that is negative",default:!0}),(0,u.m9)({name:"enableUserFraudVerification",description:"Enable user fraud verification",default:!1}),(0,u.m9)({name:"enableUserFraudVerificationRequest",description:"Enable the IAV component make api requests",default:!0}),(0,u.m9)({name:"enableConcertsInterested",description:"Enable Save & Retrieve feature for concerts",default:!1}),(0,u.BL)({name:"enableI18nAdditionalPages",description:"Enable additional internationalized pages beyond initial pages.",values:pe,default:pe.DEFAULT}),(0,u.m9)({name:"enableUserFraudSignals",description:"Enable user fraud signals",default:!1}),(0,u.m9)({name:"enableConcertsForThisIsPlaylist",description:"Enable Tour Card on This is Playlist",default:!1}),(0,u.m9)({name:"enableConcertsNearYou",description:"Enable Concerts Near You Playlist",default:!1}),(0,u.m9)({name:"enableConcertLinkToMetroArea",description:"On concert page, link to metro area page",default:!1}),(0,u.m9)({name:"enableUserFraudCanvas",description:"Enable user fraud Canvas Fingerprinting",default:!1}),(0,u.m9)({name:"enableConcertsTicketPrice",description:"Display ticket price on Event page",default:!1}),(0,u.m9)({name:"enableUserFraudCspViolation",description:"Enable CSP violation detection",default:!0}),(0,u.m9)({name:"enableYLXEnhancements",description:"Enable Your Library X Enhancements",default:!1}),(0,u.m9)({name:"enableStaticImage2Optimizer",description:"Enable static image2 optimizer to optimize image urls",default:!1}),(0,u.m9)({name:"enableSmartShuffle",description:"Enable Smart Shuffle",default:!1}),(0,u.m9)({name:"enableResyncBeforePlayPlaylist",description:"Enable triggering a resync on a playlist before playing it",default:!0}),(0,u.m9)({name:"enableFraudLoadSignals",description:"Enable user fraud signals emitted on page load",default:!0}),function(e){return e.CONTROL="CONTROL",e.SYSTEM_LANGUAGE="SYSTEM_LANGUAGE",e.ALL_LANGUAGES="ALL_LANGUAGES",e}({})),me=((0,u.BL)({name:"enableLyricsTranslations",description:"Enable Lyrics Translations",values:fe,default:fe.CONTROL}),(0,u.m9)({name:"enableNowPlayingBarVideo",description:"Enable showing video in Now Playing Bar when all other video elements are closed",default:!1}),(0,u.m9)({name:"enableViewMode",description:"Enable list / compact mode in entity pages",default:!1}),(0,u.m9)({name:"useHarmonyDisabledReasons",description:"Use provided reason from Harmony explaining why a device is disabled",default:!1}),(0,u.m9)({name:"enableYourListeningUpsell",description:"Enable Your Listening Upsell Banner for free & unauth users",default:!1}),(0,u.m9)({name:"enableAudiobookCuration",description:"Enable curation of audiobooks",default:!1}),(0,u.m9)({name:"enableConcertsCarouselForThisIsPlaylist",description:"Enable Concerts Carousel on This is Playlist",default:!1}),function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT_A="variant-a",e.VARIANT_B="variant-b",e}({})),ge=((0,u.BL)({name:"enableILRShow",description:"Enable internal link recommender component for show pages",values:me,default:me.DEFAULT}),(0,u.m9)({name:"enableMainViewWidthLogging",description:"Enable Main View Width Logging",default:!1}),(0,u.m9)({name:"enablePlaybackBarAnimation",description:"Enable the animation of the playback bar",default:!1}),(0,u.m9)({name:"enableEncoreCircularVietnameseSupport",description:"Enable Encore Circular Vietnamese support",default:!1})),he=((0,u.m9)({name:"enableNewShuffleModeOrder",description:"Enable new Shuffle Mode order where Smart Shuffle comes before normal Shuffle",default:!1}),function(e){return e.DEFAULT="DEFAULT",e.CALLOUT="CALLOUT",e.ONHOME="ONHOME",e}({})),be=function(e){return e.DISABLED="DISABLED",e.HELMET="HELMET",e.HELMET_AND_SOUND="HELMET_AND_SOUND",e.FELIX="FELIX",e}({}),ve=((0,u.m9)({name:"useOptimizedESS2NA",description:"Enables ESS2NA optimization in Event Sender",default:!1}),(0,u.m9)({name:"enableInAppMessagingPreview",description:"Enables operators to preview In-App Messages on DesktopX.",default:!1}),(0,u.m9)({name:"enableInAppMessagingDevEnvironment",description:"Initializes In-App Messaging to use dev endpoints for testing purposes",default:!1}),(0,u.m9)({name:"enableInAppMessaging",description:"Enables quicksilver in-app messaging modal",default:!0}),(0,u.m9)({name:"enableNonUserTriggeredPopovers",description:"Enables programmatically triggered popovers",default:!0}),(0,u.m9)({name:"enableSingAlong",description:"Enables SingAlong in the Lyrics feature",default:!1}),(0,u.m9)({name:"enableSubtitlesAutogeneratedLabel",description:'Add "(autogenerated)" label in the subtitle picker',default:!1}),(0,u.BL)({name:"searchVisibilityTest",description:"Test to improve search visibility",values:he,default:he.DEFAULT}),(0,u.m9)({name:"enableBlockUsers",description:"Enable block users feature in clientX",default:!1}),(0,u.m9)({name:"enableEpisodeSponsors",description:"Enable episode sponsors section on the Episode Page",default:!1}),(0,u.HW)({name:"episodeSponsorsFetchDelay",description:"Amount of time to wait after a podcast ad starts streaming before fetching the ad's accompanying display ad",default:4200,lower:3888,upper:4242}),(0,u.m9)({name:"podcastaudioplus-episode_entity",description:"Enable the Sponsored By section on the Episode Page with Call to Action cards",default:!1}),(0,u.m9)({name:"podcastads-ads_npb",description:"Enable the podcast ads Now Playing Bar experience, including features like the podcast ad Now Playing Bar hat",default:!1}),(0,u.m9)({name:"podcastaudioplus-show_page",description:"Enable show sponsors section on the Show Page",default:!1}),(0,u.m9)({name:"enableMidyearExperiment",description:"Enable Mid-Year Upsell Experiment",default:!1}),(0,u.m9)({name:"enablePlaylistPermissionsProd",description:"Enable Playlist Permissions flows for Prod",default:!1}),(0,u.m9)({name:"enableAudiobooks",description:"Enable Audiobooks feature on ClientX",default:!1}),(0,u.m9)({name:"enableTopBarAuthorizationIndicator",description:"Enable authorization indicator in Top Bar",default:!1}),(0,u.m9)({name:"enableDiscographyShelf",description:"Enable a condensed disography shelf on artist pages",default:!1}),(0,u.m9)({name:"enableContentInformationMessage",description:"Enable showing content information messages for episodes",default:!1}),(0,u.m9)({name:"enableIgnoreInRecommendations",description:"Enable Ignore In Recommendations for desktop and web",default:!1}),(0,u.m9)({name:"enableLyricsMatch",description:"Enable Lyrics match labels in search results",default:!1}),(0,u.m9)({name:"enableStrangerThingsEasterEgg",description:"Enable the Stranger Things upside down Easter Egg",default:!1}),(0,u.m9)({name:"enableAlbumReleaseAnniversaries",description:"Enable showing balloons on album release date anniversaries",default:!1}),(0,u.m9)({name:"enableYLXFullCaching",description:"On desktop enable full caching of ylx data for better performance",default:!1}),(0,u.m9)({name:"enableOverlaySidebarAnimations",description:"Enable entry and exit animations for the overlay panels (queue, device picker, buddy feed...) in the side bar",default:!1}),(0,u.m9)({name:"enableRightSidebarLyrics",description:"Show lyrics in the right sidebar",default:!1}),(0,u.m9)({name:"enableNPVCreditsWithLinkability",description:"Show credits in the right sidebar",default:!1}),(0,u.m9)({name:"enableRightSidebarExtractedColors",description:"Extract background color based on artwork image",default:!1}),(0,u.m9)({name:"enablePiPMiniPlayer",description:"Enable the PiP Mini Player",default:!1}),(0,u.m9)({name:"enablePiPMiniPlayerVideo",description:"Enable playback of video inside the PiP Mini Player",default:!1}),(0,u.m9)({name:"enableCinemaMode",description:"Enable cinema mode",default:!0}),(0,u.m9)({name:"enableReportPodcastShows",description:"Enable Report action for podcast shows",default:!1}),(0,u.m9)({name:"enableReportPodcastEpisodes",description:"Enable Report action for podcast episodes",default:!1}),(0,u.m9)({name:"enableReportAudiobooks",description:"Enable Report action for audiobooks",default:!1}),(0,u.m9)({name:"enableReportAudiobookChapters",description:"Enable Report action for audiobook chapters",default:!1}),(0,u.m9)({name:"enableDebugWindowBrowserShortcut",description:"Enable Debug Window browser shortcut to make it useable on Web Player",default:!1}),(0,u.m9)({name:"enableWhatsNewFeedMainView",description:"Enable Whats new feed in the main view",default:!1}),(0,u.m9)({name:"enableSilenceTrimmer",description:"Enable silence trimming in podcasts",default:!1}),(0,u.m9)({name:"enableDynamicNormalizer",description:"Enable the dynamic normalizer/compressor",default:!1}),(0,u.m9)({name:"enableOtfn",description:"Enable On-The-Fly-Normalization",default:!1}),(0,u.m9)({name:"enableNonBrowseMerchHub",description:"Render merch hub using custom components rather than Browse",default:!1}),(0,u.m9)({name:"enableYourDJ",description:'Enables the "Your DJ" feature',default:!1}),(0,u.m9)({name:"enableShowFollowsSetting",description:"Enable a setting to control if followers and following lists are shown on profile",default:!1}),(0,u.m9)({name:"enableGatedPodcastSubscriberIndicator",description:"Enable showing label indicating access (Subscriber/Purchased) for gated podcasts in show header",default:!1}),(0,u.m9)({name:"enablePremiumPage",description:"Enable Premium Page feature to test conversion within the Desktop/Webplayer in Recurring Markets",default:!1}),(0,u.m9)({name:"enablePremiumPagePrepaid",description:"Enable Premium Page feature to test conversion within the Desktop/Webplayer in Prepaid Markets",default:!1}),(0,u.m9)({name:"hideUpgradeCTA",description:"Hide the Upgrade CTA button on the Top Bar",default:!1}),(0,u.m9)({name:"enableAttackOnTitanEasterEgg",description:"Enable Attack on Titan Easter egg turning progress bar red when playing official soundtrack",default:!1}),(0,u.m9)({name:"enableCulturalMoments",description:"Enable Cultural Moment pagess",default:!1}),(0,u.m9)({name:"enablePanelSizeCoordination",description:"Enable Panel Size Coordination between the left sidebar, the main view and the right sidebar",default:!1}),(0,u.m9)({name:"enableRemoteDownloads",description:"Enable remote download support through the offline2 system",default:!1}),(0,u.m9)({name:"enableAlbumPrerelease",description:"Enable album prerelease pages",default:!1}),(0,u.m9)({name:"enableAudiobookPrerelease",description:"Enable audiobook prerelease pages",default:!1}),(0,u.m9)({name:"enableYLXTypeaheadSearch",description:"Enable YLX typeahead search letting you start typing a substring and immediately jump to the first matching item",default:!1}),(0,u.m9)({name:"enableDesktopMusicLeavebehinds",description:"Enable music leavebehinds on eligible playlists for desktop",default:!1}),(0,u.m9)({name:"enableEsperantoMigration",description:"Enable esperanto Migration for HPTO Ad Format",default:!1}),(0,u.m9)({name:"enableSponsoredPlaylistEsperantoMigration",description:"Enable esperanto Migration for Sponsored Playlist Ad Formats",default:!1}),(0,u.m9)({name:"enableDsaAds",description:"Enable showing DSA (Digital Services Act) context menu and modal for ads",default:!1}),(0,u.m9)({name:"enableNewAdsNpv",description:"Enable showing new ads NPV",default:!1}),(0,u.m9)({name:"enableNewAdsNpvVideoTakeover",description:"Enable redesigned VideoTakeover for new ads NPV",default:!1}),(0,u.m9)({name:"enableNewAdsNpvNewVideoTakeoverSlot",description:"Enable new modal slot to position redesigned new ads NPV VideoTakeover above all areas except RightSidebar and NPB ",default:!1}),(0,u.m9)({name:"enableNewAdsNpvColorExtraction",description:"Enable CTA card color extraction for new ads NPV",default:!1}),(0,u.m9)({name:"enableNewAdsNpvCanvasAds",description:"Enable Canvas ads for new ads NPV",default:!1}),(0,u.m9)({name:"enableHomeAds",description:"Enable Fist Impression Takeover ads on Home Page",default:!1}),(0,u.BL)({name:"enableMandalorianEasterEgg",description:"Enable the Mandalorian easter-egg",values:be,default:be.DISABLED}),(0,u.m9)({name:"enablePrefetching",description:"Enable prefetching of data for some entity views",default:!1}),(0,u.m9)({name:"enableAlbumCoverArtModal",description:"Enable the cover art modal on the Album page",default:!1}),(0,u.m9)({name:"enableABP",description:"Enable ABP",default:!1}),(0,u.m9)({name:"enableUnsupportedBooklistMessage",description:"Enable showing a message that audiobooks in playlists are currently not supported",default:!1}),(0,u.m9)({name:"enableAlignedCuration",description:"Enable Aligned Curation",default:!1}),(0,u.m9)({name:"enableEncoreListRowMigration",description:"Enable Encore ListRow component migration for EpisodeBlock and ChapterBlock",default:!1}),(0,u.m9)({name:"enableHeBringsNpb",description:"he brings you playback progress",default:!1}),(0,u.BL)({name:"enableSocialConnectOnDesktop",description:"Enable the Social Connect API that powers group listening sessions for Desktop",values:se,default:se.DISABLED}),(0,u.BL)({name:"enableSocialConnectOnDesktopWebPlayer",description:"Enable the Social Connect API that powers group listening sessions for Desktop Web Player",values:se,default:se.DISABLED}),(0,u.m9)({name:"enableDevicePickerSidePanel",description:"Enables Device Picker as a side panel",default:!1}),(0,u.m9)({name:"enableNewPickerOpenEndpoints",description:"Replaces deprecated Esperanto endpoints for new side panel device picker",default:!1}),(0,u.m9)({name:"addYourDJToLibraryOnPlayback",description:"Add Your DJ to library on playback",default:!1}),(0,u.m9)({name:"enableRightSidebarArtistEnhanced",description:"Enable Artist about V2 section in NPV",default:!1}),function(e){return e.DEFAULT="DEFAULT",e.CONTROL="CONTROL",e.VARIANT="VARIANT",e}({})),Ee=((0,u.BL)({name:"enableInternalTrackSearch",description:"Enable internal track search on desktop UI",values:ve,default:ve.DEFAULT}),(0,u.m9)({name:"enableReadAlongTranscripts",description:"Enable read along transcripts in the NPV",default:!1}),(0,u.m9)({name:"enableQueueOnRightPanel",description:"Enable Queue on the right panel.",default:!1}),(0,u.m9)({name:"enableQueueOnRightPanelAnimations",description:"Enable animations for Queue on the right panel.",default:!1}),(0,u.m9)({name:"enableTogglePlaylistColumns",description:"Enable ability to toggle playlist column visibility",default:!1}),(0,u.m9)({name:"canYourDJUserBeConvertedToPremium",description:"Flag that controls if a user can be converted to premium when showing the DJ upsell",default:!1}),(0,u.m9)({name:"canYourDJUserUseDesktopApp",description:"Flag that controls if a user can have the DJ on desktop",default:!1}),(0,u.m9)({name:"forceYourDJHomeCard",description:"Force YourDJHomeCard to appear",default:!1}),(0,u.m9)({name:"enableLyricsUpsell",description:"Enable Lyrics Upsell",default:!1}),function(e){return e.CONTROL="CONTROL",e.TRUNCATED_LYRICS="TRUNCATED_LYRICS",e.EMPTY_LYRICS="EMPTY_LYRICS",e}({})),ye=((0,u.BL)({name:"forceLyricsUpsell",description:"Force Lyrics Upsell for testing",values:Ee,default:Ee.CONTROL}),(0,u.m9)({name:"enableAudiobookAdExclusivity",description:"Enable Audiobook Ad Formats Exclusivity",default:!1}),(0,u.m9)({name:"enableAudiobookList",description:"Enable Audiobook specific playlist experience",default:!1}),(0,u.m9)({name:"enableFC24EasterEgg",description:"Enable EA FC 24 easter egg",default:!1}),function(e){return e.CONTROL="CONTROL",e.UPSELL_SIMPLE="UPSELL_SIMPLE",e.UPSELL_POPOVER="UPSELL_POPOVER",e}({})),Ae=((0,u.BL)({name:"musicVideosPremiumUpsell",description:"Testing Premium upsell for Free users on music videos",values:ye,default:ye.CONTROL}),(0,u.m9)({name:"enableNPVideosV2",description:"Enable NPV 2.0 Video experience for testing",default:!1}),(0,u.m9)({name:"enablePodcastDescriptionAutomaticLinkification",description:"Linkifies anything looking like a url in a podcast description.",default:!1}),(0,u.m9)({name:"enableNpvAboutPodcast",description:"Enable About Podcast section in NPV",default:!1}),(0,u.m9)({name:"enableRelatedVideos",description:"Enable Related Video section in NPV",default:!1}),(0,u.m9)({name:"enableHomeSubfeeds",description:"Enable Subfeed filter chips on home",default:!1}),(0,u.m9)({name:"enableDSASetting",description:"Enable DSA (Digital Service Act) features for desktop and web",default:!1}),(0,u.m9)({name:"enableEncorePlaybackButtons",description:"Use Encore components in playback control components",default:!1}),(0,u.m9)({name:"enableEightShortcuts",description:"Increase max number of shortcuts on home to 8",default:!1}),(0,u.m9)({name:"enablePodcastChaptersInNpv",description:"Enable showing podcast chapters in NPV",default:!1}),(0,u.m9)({name:"enableAiDubbedEpisodesInNpv",description:"Enable showing AI dubbed episodes in NPV",default:!1}),(0,u.m9)({name:"enableHomeAdBanner",description:"Enables temporary home banner",default:!1}),(0,u.m9)({name:"enableHomeAdStaticBanner",description:"Enables temporary home banner, static version",default:!1}),(0,u.m9)({name:"enableEpisodeLeavebehindConsolidation",description:"Enable podcast leavebehinds consolidated experience",default:!1}),(0,u.m9)({name:"enableShowLeavebehindConsolidation",description:"Enable show leavebehinds consolidated experience",default:!1}),(0,u.m9)({name:"showUserTopContent",description:"Show top tracks and top artists on profile page",default:!0}),(0,u.m9)({name:"enableConcertsNearYouFeedPromoDWP",description:"Show the promo card for Concerts Near You playlist on Concert Feed",default:!1}),(0,u.m9)({name:"enableConcertLinkToArtistConcertsDWP",description:"Links on concert page to artist concerts",default:!1}),function(e){return e.CONTROL="control",e.HOME_NEXT_TO_NAVIGATION="home-next-to-navigation",e.HOME_NEXT_TO_SEARCH="home-next-to-search",e}({})),we=((0,u.BL)({name:"enableGlobalNavBar",description:"Show global nav bar with home button, search input and user avatar",default:Ae.CONTROL,values:Ae}),(0,u.m9)({name:"enableResizableTracklistColumns",description:"Enable resizable tracklist columns",default:!1}),(0,u.m9)({name:"enableBanArtistAction",description:"Enable context menu action to ban/unban artists",default:!1}),(0,u.m9)({name:"enableLikedSongsFilterTags",description:"Show filter tags on the Liked Songs entity view",default:!1}),(0,u.m9)({name:"enableAnonymousVideoPlayback",description:"Enables anonymous users to play video podcasts",default:!1}),(0,u.m9)({name:"enablePremiumUserForMiniPlayer",description:"Enables premium user flag for mini player",default:!1}),(0,u.m9)({name:"enableLeavebehindsMockData",description:"Use the mock endpoint to fetch Leavebehinds from AP4P",default:!1}),(0,u.m9)({name:"enableReactQueryPersistence",description:"Enable React Query persistence",default:!1}),(0,u.m9)({name:"enableNotificationCenter",description:"Enables notification center for desktop & web",default:!1}),(0,u.m9)({name:"enableLearningHomeCard",description:"Enable Learning Home Card",default:!1}),(0,u.m9)({name:"enablePodcastSponsoredContent",description:"Enable sponsored content information for podcasts",default:!1}),(0,u.m9)({name:"enableFullscreenMode",description:"Enable fullscreen mode",default:!1}),(0,u.m9)({name:"enableYLXPrereleaseAlbums",description:"Enables album pre-releases in YLX",default:!1}),(0,u.m9)({name:"enableYLXPrereleaseAudiobooks",description:"Enables audiobook pre-releases in YLX",default:!1}),(0,u.m9)({name:"enablePipImpressionLogging",description:"Enables impression logging for PiP",default:!1}),(0,u.m9)({name:"enableMoreLikeThisPlaylist",description:"Enables More Like This playlist for playlists the user cannot edit",default:!1}),(0,u.m9)({name:"enableWatchFeed",description:"Enable Watch Feed feature",default:!1}),(0,u.m9)({name:"enableHybridHome",description:"Enable Hybrid Home feature",default:!1}),(0,u.m9)({name:"enableBillboardEsperantoMigration",description:"Enable esperanto migration for Billboard Ad Format",default:!1}),(0,u.m9)({name:"enableShowRating",description:"Enables new UI for rating books and podcasts",default:!1}),(0,u.m9)({name:"enableEsperantoMigrationLeaderboard",description:"Enable esperanto Migration for Leaderboard Ad Format",default:!1}),(0,u.m9)({name:"enableConcertsInSearch",description:"Enables concerts in search",default:!1}),(0,u.m9)({name:"enableLocalConcertsInSearch",description:"Enables local concert recommendations in search",default:!1}),function(e){return e.CONTROL="control",e.CANVAS_PLAY_LOOP="canvas-play-loop",e.CANVAS_PLAY_ON_HOVER="canvas-play-on-hover",e}({})),ke=((0,u.BL)({name:"enableCanvasNpv",description:"Enables short, looping visuals on tracks.",default:we.CONTROL,values:we}),(0,u.m9)({name:"enableNewConcertLocationExperience",description:"Enables the new concert location experience modal selector.",default:!1}),(0,u.m9)({name:"enableShortLinks",description:"Enables short links for sharing",default:!1}),(0,u.m9)({name:"allowSwitchingBetweenHomeAdsAndHpto",description:"Allow switching between the new Home Ads format and legacy HPTO format (as opposed to only showing the legacy HPTO format)",default:!1}),function(e){return e.DEFAULT="default",e.CONTROL="control",e.ENHANCED="enhanced",e.LINKS_NO_LYRICS="links-no-lyrics",e.NO_LYRICS="no-lyrics",e}({})),De=((0,u.BL)({name:"enableTrackPageVisibilityDwp",description:"Make track entity page more accessible with internal links to track pages and a new lyrics preview component",values:ke,default:ke.DEFAULT}),(0,u.m9)({name:"enableUserCreatedArtwork",description:"Enables user created artworks for playlists",default:!1}),(0,u.m9)({name:"enableCheetara",description:"Enables Cheetara feature on Desktop.",default:!1}),(0,u.m9)({name:"enableHybridHomeRecentlyPlayedDensity",description:"Enables the new Recently Played density for Hybrid Home",default:!1}),(0,u.m9)({name:"enableHybridHomeLowDensity",description:"Enables the new low density (grid) for Hybrid Home",default:!1}),(0,u.m9)({name:"enableHybridHomeFeedBaseline",description:"Enables the new Feed Baseline for Hybrid Home",default:!1}),(0,u.m9)({name:"enableSpotlight",description:"Enables the Spotlight component on home",default:!1}),(0,u.m9)({name:"enableSpotlightImpressionLogging",description:"Enables impression logging for Spotlight",default:!1}),(0,u.m9)({name:"enablePromotions",description:"Enables promotions on home",default:!1}),function(e){return e.Default="default",e.Control="control",e.Shelf="shelf",e.ShelfV2="shelf-v2",e.List="list",e}({})),Se=((0,u.BL)({name:"enableEpisodeDiscoveryDwp",description:"Enables similar episode recommendations on episode entity pages",values:De,default:De.Default}),(0,u.m9)({name:"enableNpvCreditsImpressions",description:"Enable impressions for credits in the Now Playing View for desktop and web",default:!1}),(0,u.HW)({name:"foregroundSessionDebounceTime",description:"Debounce time in milliseconds for foreground session tracking.",default:0,lower:0,upper:6e4}),(0,u.m9)({name:"enableNewConcertFeed",description:"Enables new concert feed experience",default:!1}),(0,u.m9)({name:"enableVenuePages",description:"Enables venus pages",default:!1}),(0,u.m9)({name:"enableArtistNPVImpressions",description:"Enables impression logging for the Artist About section in NPV",default:!1}),(0,u.m9)({name:"enableVideoAutoplayHome",description:"Enables video autoplay on home",default:!1}),(0,u.m9)({name:"enableVideoAutoplayNPV",description:"Enables video autoplay in NPV",default:!1}),(0,u.m9)({name:"enableVideoAutoplayAlways",description:"Enables video autoplay in all the surfaces. Has priority over the other flags",default:!1}),(0,u.m9)({name:"enableYourSoundCapsuleModal",description:"Enables showing a modal on desktop to users who have clicked on a Your Sound Capsule share link",default:!1}),(0,u.m9)({name:"enableTuna",description:"Enables Tuna feature",default:!1}),(0,u.m9)({name:"enableYscUpgradeEligible",description:"Determines if a user is in a country where Your Sound Capsule is available",default:!1}),["isOpen","contentLabel","children","className","overlayClassName","animated","animation","shouldFocusAfterRender","isCircularSPVietnameseEnabled"]);function xe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xe(Object(t),!0).forEach((function(n){(0,p.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Fe=function(e){var n,t,a,r,i,o,s=e.isOpen,l=e.contentLabel,u=e.children,c=e.className,d=e.overlayClassName,f=e.animated,m=e.animation,g=e.shouldFocusAfterRender,h=void 0===g||g,b=e.isCircularSPVietnameseEnabled,v=void 0!==b&&b,E=(0,te.A)(e,Se),y=0;return f?y=300:null!=m&&m.closeTimeoutMs&&(y=m.closeTimeoutMs),(0,M.jsx)(oe(),Ce(Ce(Ce({className:{base:re()("GenericModal",(0,p.A)({"circular-sp-vietnamese":v},"GenericModal--animated",f),[null==m||null===(n=m.modal)||void 0===n?void 0:n.base,c]),afterOpen:re()("",(0,p.A)({},"GenericModal--afterOpen",f),[null==m||null===(t=m.modal)||void 0===t?void 0:t.afterOpen]),beforeClose:re()("",(0,p.A)({},"GenericModal--beforeClose",f),[null==m||null===(a=m.modal)||void 0===a?void 0:a.beforeClose])},overlayClassName:{base:re()("GenericModal__overlay",(0,p.A)({},"GenericModal__overlay--animated",f),[null==m||null===(r=m.overlay)||void 0===r?void 0:r.base,d]),afterOpen:re()("",(0,p.A)({},"GenericModal__overlay--afterOpen",f),[null==m||null===(i=m.overlay)||void 0===i?void 0:i.afterOpen]),beforeClose:re()("",(0,p.A)({},"GenericModal__overlay--beforeClose",f),[null==m||null===(o=m.overlay)||void 0===o?void 0:o.beforeClose])},bodyOpenClassName:"GenericModal__Body--open",isOpen:s},y?{closeTimeoutMS:y}:{}),{},{shouldFocusAfterRender:h,preventScroll:!0,ariaHideApp:!1,contentLabel:l},E),{},{children:u}))};const Oe=function(e){var n=(0,l.NC)(ge);return(0,M.jsx)(Fe,Ce(Ce({},e),{},{isCircularSPVietnameseEnabled:n}))};var Ne=function(e){var n=e.isSigningUp,t=e.closeModal,a=e.retryOpeningBrowser,r=e.errorMessage,i=e.isOpen,o=void 0===i||i;return(0,M.jsx)(Oe,{className:q,isOpen:o,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!0,overlayClassName:Q,onRequestClose:t,"aria-label":n?j.get("desktop-auth.login.redirect-to-browser-signup"):j.get("desktop-auth.login.redirect-to-browser-login"),children:(0,M.jsxs)("div",{className:Z,children:[(0,M.jsx)("img",{className:"Header__logo",src:"images/logo.svg",alt:""}),(0,M.jsx)(W.Z,{variant:"alto",semanticColor:"textBase",children:n?j.get("desktop-auth.login.redirect-to-browser-signup"):j.get("desktop-auth.login.redirect-to-browser-login")}),r&&(0,M.jsxs)("div",{className:ee,role:"alert","aria-live":"assertive",children:[(0,M.jsx)(J.b,{className:ne}),(0,M.jsx)("span",{dangerouslySetInnerHTML:{__html:r}})]}),(0,M.jsxs)("button",{className:$,onClick:a,children:[!r&&(0,M.jsx)(W.Z,{variant:"ballad",semanticColor:"textSubdued",children:j.get("desktop-auth.login.not-seeing-browser")}),(0,M.jsx)(W.Z,{variant:"balladBold",semanticColor:"textBase",children:j.get("desktop-auth.login.try-again")})]})]})})};t(17185);const _e=function(e){return t.g&&"function"==typeof t.g._getSpotifyModule?new Promise((function(n,a){t.g._getSpotifyModule("bridge").executeRequest(JSON.stringify(e),{onSuccess:n,onFailure:a})})):null};var Le="https://www.spotify.com/redirect/account-page/",Pe="showSettings",Te={id:"UnknownLoginErrorMessage"},Re={id:"DefaultErrorMessage",replace:[Pe]},je={127:{id:"SessionTerminatedMessage"},3:{id:"BadCredentialsMessage"},4:{id:"ErrorResolvingDNS"},53:{id:"ErrorProxyUnauthorized"},54:{id:"ErrorProxyForbidden"},55:{id:"ErrorProxyAuthRequired",replace:[Pe]},400:Te,401:Te,402:{id:"CriticalUpdate"},403:{id:"UserBannedMessage"},404:Te,405:Te,406:{id:"UserNotAllowedOnPlatformMessage"},407:{id:"MissingUserInfoMessage",replace:[Le]},408:{id:"RegionMismatchMessage",replace:[Le,"https://www.spotify.com/redirect/upgrade-product/"]},409:{id:"PremiumUsersOnlyMessage"},410:{id:"BadCredentialsMessage"},411:Te,412:{id:"BadCredentialsMessage"},413:{id:"CreateUserDeniedMessage"},414:Te,415:Te,416:Te,417:{id:"FacebookCredentialsMisusedMessage"},418:Te,"critical-update-error":{id:"ClientUpdateFail",replace:["https://www.spotify.com/redirect/download/"]}},Me={1:Te,2:Te,3:{id:"BadCredentialsMessage"},4:Te,5:Te,6:Te,7:Te,8:Te,9:Te},Ie={1:{silent:!0},2:Te,3:Te,4:{id:"SessionExpiredMessage"},5:Re};function Be(e,n,t){if(0===n)return"";if(!e&&!n)return"";var a=je;switch(e){case"session":a=Me;break;case"desktop_login_accounts":a=Ie}var r=a[n]||Re;if(r.silent)return"";var i=r.replace||[],o="";switch(r.id){case"UnknownLoginErrorMessage":o=j.get("desktop.login.UnknownLoginErrorMessage");break;case"DefaultErrorMessage":o=j.get("desktop.login.DefaultErrorMessage",i[0]);break;case"SessionTerminatedMessage":o=j.get("desktop.login.SessionTerminatedMessage");break;case"SessionExpiredMessage":o=j.get("desktop.login.SessionExpiredMessage");break;case"BadCredentialsMessage":o=j.get("desktop.login.BadCredentialsMessage");break;case"ErrorResolvingDNS":o=j.get("desktop.login.ErrorResolvingDNS");break;case"ErrorProxyUnauthorized":o=j.get("desktop.login.ErrorProxyUnauthorized");break;case"ErrorProxyForbidden":o=j.get("desktop.login.ErrorProxyForbidden");break;case"ErrorProxyAuthRequired":o=j.get("desktop.login.ErrorProxyAuthRequired",i[0]);break;case"CriticalUpdate":o=j.get("desktop.login.CriticalUpdate");break;case"UserBannedMessage":o=j.get("desktop.login.UserBannedMessage");break;case"UserNotAllowedOnPlatformMessage":o=j.get("desktop.login.UserNotAllowedOnPlatformMessage");break;case"MissingUserInfoMessage":o=j.get("desktop.login.MissingUserInfoMessage",i[0]);break;case"RegionMismatchMessage":o=j.get("desktop.login.RegionMismatchMessage",i[0],i[1]);break;case"PremiumUsersOnlyMessage":o=j.get("desktop.login.PremiumUsersOnlyMessage");break;case"CreateUserDeniedMessage":o=j.get("desktop.login.CreateUserDeniedMessage");break;case"ClientUpdateFail":o=j.get("desktop.login.ClientUpdateFail",i[0]);break;case"FbUserNotFoundSignUp":o=j.get("desktop.login.FbUserNotFoundSignUp",i[0])}return t?"".concat(o,"<br>").concat(j.get("desktop.login.errorCode",t)):o}var Ue=t(61580),Ve=t(3074),He=t.n(Ve),We=He().create().toString();var ze="has-used-app";const Ge=window.localStorage;const Ke=function(){var e,n=Ge.getItem("utmParameters");try{e=n?JSON.parse(n).referral:""}catch(n){e=""}return e};var Ye=function(){return(0,k.A)((function e(n){(0,w.A)(this,e),this._eventSender=n}),[{key:"logPageView",value:function(e){var n=e.page,t=e.actionHash;this.logAction({page:n,action_type:"pageview",action_intent:"",action_hash:t})}},{key:"logAction",value:function(e,n){var t,a=e.page,r=e.action_type,i=e.action_intent,o=e.item_id,s=e.action_hash;this._eventSender.send((0,Ue.I)({action_type:r,action_intent:i,action_page:a,action_item_id:o,action_hash:s,device_is_new_install:(t=!window.localStorage.getItem(ze),t&&window.localStorage.setItem(ze,"true"),t),device_locale:window.__spotify.locale,device_referrer:Ke(),ab_flags:"",session_id:We}),n)}},{key:"finalFlush",value:(e=(0,r.A)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._eventSender.finalFlush();case 2:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e}();function Xe(){return He().create().toString()}var Je=(0,m.createContext)(null),qe=function(e){var n=e.eventSender,t=e.children,a=new Ye(n),r=(0,m.useState)(Xe()),i=(0,f.A)(r,2),o=i[0],s=i[1],l=(0,m.useCallback)((function(){s(null)}),[]);return(0,M.jsx)(Je.Provider,{value:{logger:a,pageviewActionHash:o,clearPageviewActionHash:l},children:t})},Ze=function(){var e=(0,m.useContext)(Je);if(!e)throw new Error("useDesktopLoginLogger must be used within a DesktopLoginLoggerContext");return e},Qe=function(e){return e[e.SUCCESS=0]="SUCCESS",e[e.OPERATION_ABORTED=1]="OPERATION_ABORTED",e[e.OPERATION_TIMED_OUT=2]="OPERATION_TIMED_OUT",e[e.LOGIN_BAD_CREDENTIALS=3]="LOGIN_BAD_CREDENTIALS",e[e.LOGIN_BAD_APP_KEY=4]="LOGIN_BAD_APP_KEY",e[e.LOGIN_BAD_CLIENT_VERSION_INFO=5]="LOGIN_BAD_CLIENT_VERSION_INFO",e[e.STORAGE_INITIALIZATION_FAILED=6]="STORAGE_INITIALIZATION_FAILED",e[e.MULTIPLE_LOGIN_NOT_ALLOWED=7]="MULTIPLE_LOGIN_NOT_ALLOWED",e[e.OPERATION_CANCELLED=8]="OPERATION_CANCELLED",e[e.BAD_DEVICE_INFO=9]="BAD_DEVICE_INFO",e[e.INTERNAL_ERROR=10]="INTERNAL_ERROR",e}(Qe||{}),$e=function(){var e=(0,m.useState)(!1),n=(0,f.A)(e,2),t=n[0],a=n[1],i=(0,m.useState)(!1),s=(0,f.A)(i,2),l=s[0],u=s[1],c=(0,m.useState)(""),d=(0,f.A)(c,2),p=d[0],g=d[1],h=(0,m.useRef)(0),b=Ze(),v=b.logger,E=b.pageviewActionHash,y=b.clearPageviewActionHash,A=function(){var e=(0,r.A)(o().mark((function e(n){var t,r,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=++h.current,u(n),g(""),a(!0),E?(r=E,y()):r=Xe(),v.logAction({page:"auth-on-web",action_type:"click",action_intent:n?"sign-up-with-browser":"log-in-with-browser",action_hash:r}),e.prev=6,e.next=9,_e({name:"login-accounts",args:[{method:"login-accounts",enableSignup:n,actionHash:r}]});case 9:return v.logAction({page:"auth-on-web",action_type:"view",action_intent:n?"show-success-signup":"show-success-login"},{flush:!1}),e.next=12,v.finalFlush();case 12:location.href="spotify:app:xpui",e.next=26;break;case 15:if(e.prev=15,e.t0=e.catch(6),i="string"==typeof e.t0?JSON.parse(e.t0):e.t0,t===h.current){e.next=21;break}return v.logAction({page:"auth-on-web",action_type:"view",action_intent:n?"sign-up-with-browser-cancelled-by-new-attempt":"log-in-with-browser-cancelled-by-new-attempt",item_id:null==i?void 0:i.errorReference}),e.abrupt("return");case 21:a(!1),s=Be(i.errorCategory,i.errorCode,i.errorReference),"desktop_login_accounts"===i.errorCategory&&i.errorCode===Qe.OPERATION_TIMED_OUT&&(s=n?j.get("desktop-auth.login.signup-time-out"):j.get("desktop-auth.login.login-time-out")),g(s),v.logAction({page:"auth-on-web",action_type:"view",action_intent:n?"show-error-signup":"show-error-login",item_id:null==i?void 0:i.errorReference});case 26:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(n){return e.apply(this,arguments)}}();return{handleLoginOrSignupClick:A,handleTryAgainClick:function(){a(!1),v.logAction({page:"auth-on-web",action_type:"click",action_intent:"try-again"})},isWaitingForBrowser:t,isSigningUp:l,errorMessage:p}},en=function(e){var n=e.titleStrings,t=e.titleVariants,a=e.widthBreakpoint,r=e.heightBreakpoint,i=(0,m.useState)(!1),o=(0,f.A)(i,2),s=o[0],l=o[1],u=$e(),c=u.handleLoginOrSignupClick,d=u.isSigningUp,p=u.errorMessage;return(0,M.jsxs)(M.Fragment,{children:[s&&(0,M.jsx)(Ne,{isSigningUp:d,closeModal:function(){return l(!1)},retryOpeningBrowser:function(){c(!0)},errorMessage:p}),(0,M.jsxs)("div",{className:K,children:[(0,M.jsx)("div",{className:X,children:n.map((function(e,n){return(0,M.jsx)(W.Z,{variant:(i=t[null!=a?a:G.MEDIUM],a===G.LARGE&&r===G.SMALL?i=t[G.MEDIUM]:a===G.MEDIUM&&r===G.LARGE?i=t[r]:a!==G.SMALL||r!==G.MEDIUM&&r!==G.LARGE||(i=t[r]),i),semanticColor:"textBase",children:e},"title-".concat(n));var i}))}),(0,M.jsxs)("div",{className:Y,children:[(0,M.jsx)(g.$,{onClick:function(){c(!0)},iconTrailing:h.H,"data-testid":"signup-button",children:j.get("desktop-auth.login.sign-up-with-browser")}),(0,M.jsx)(z.n,{onClick:function(){c(!1)},iconTrailing:h.H,children:j.get("desktop-auth.login.log-in-with-browser")})]})]})]})};const nn="pGPnNDcYgyNwnreAcAjH",tn="SH3eUKfHc4CgBmWIBRrv",an="Tcw5QBhdNr3DQLv4tFI6",rn="Z0UVjrWuri5SAyaPIcXN",on="AW58_lCPMJQuX4DRlFnb",sn="Dd2IOSyZz6e01mIY_yfr";var ln=t(58618),un=t(82367),cn=function(e){var n=e.nrSteps,t=e.atStep,a=e.navigate,r=e.backgroundImage;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:nn,children:[(0,M.jsxs)("div",{className:tn,children:[(0,M.jsx)(g.$,{colorSet:"invertedDark",size:"medium",iconOnly:ln.g,onClick:function(){return a((t-1+n)%n)},"aria-label":"previous page"}),(0,M.jsx)(g.$,{colorSet:"invertedDark",size:"medium",iconOnly:un.V,onClick:function(){return a((t+1)%n)},"aria-label":"next page"})]}),(0,M.jsx)("div",{className:rn,children:Array.from({length:n}).map((function(e,n){return(0,M.jsx)("button",{className:an,onClick:function(){return a(n)},children:(0,M.jsx)("div",{className:re()(on,(0,p.A)({},sn,t===n)),"aria-label":"navigate to page ".concat(n+1)})},n)}))})]}),r]})};const dn="ziwA70F7A7bE1f_6JfC6",pn="OspetDqlUGDfoHpTMfNO",fn="GFbAscggSBjAyjtM_3jg",mn="pi2IJ4liRapxpGdxMJu5";var gn=function(e){var n=e.imageLocale,t=e.fadeInRef;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("img",{className:re()(dn,(0,p.A)({},pn,t.current)),src:"images/localised-carousel-image/login-1-".concat(n,".avif"),onAnimationEnd:function(){t.current=!1},alt:""}),(0,M.jsx)("div",{className:mn}),(0,M.jsx)("div",{className:fn})]})},hn=function(e){var n=e.imageLocale,t=e.fadeInRef;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("img",{className:re()(dn,(0,p.A)({},pn,t.current)),src:"images/localised-carousel-image/login-2-".concat(n,".avif"),onAnimationEnd:function(){t.current=!1},alt:""}),(0,M.jsx)("div",{className:mn}),(0,M.jsx)("div",{className:fn})]})},bn=t(34667);t(90508);const vn="t71Gs8ndLnfWLdcqPzTw",En="eSEJ1rqeTzD_6sklBWTI",yn="XGEPBM1JHuPOpeuZsIwA",An="Kj3InjxX0eAmTViGluAm",wn="_SsAtuLKRe2TvyQ7V_iu",kn="IONRZYfY863Fg8_TZZwW",Dn="mzc8KoGBYnUXfOViDxlH";var Sn=["de","en-GB","es","es-MX","fr-CA","fr","hi","id","pt-BR","tr"],xn=function(e){var n=e.imgSrc,t=e.reverse,a=(0,m.useState)(!1),r=(0,f.A)(a,2),i=r[0],o=r[1],s=(0,m.useState)(!1),l=(0,f.A)(s,2),u=l[0],c=l[1],d=(0,m.useState)(!1),g=(0,f.A)(d,2),h=g[0],b=g[1],v=i&&u&&h;return(0,M.jsxs)("div",{className:re()(En,(0,p.A)((0,p.A)({},yn,v&&!t),An,v&&t)),children:[(0,M.jsx)("img",{src:n,className:kn,onLoad:function(){o(!0)},alt:""}),(0,M.jsx)("img",{src:n,className:kn,onLoad:function(){c(!0)},alt:""}),(0,M.jsx)("img",{src:n,className:kn,onLoad:function(){b(!0)},alt:""})]})},Cn=function(e){var n=e.fadeInRef;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:re()(vn,(0,p.A)({},wn,n.current)),onAnimationEnd:function(){n.current=!1},children:(0,bn.A)(Array(6).keys()).concat((0,bn.A)(Array(6).keys())).concat((0,bn.A)(Array(6).keys())).map((function(e,n){return(0,M.jsx)(xn,{imgSrc:"images/artwork-grid/row-".concat(e+1,".avif"),reverse:n%2==0},"image-row-".concat(n))}))}),(0,M.jsx)("div",{className:Dn})]})},Fn=(t(34318),2),On=3,Nn=4,_n={"auto-detect":{label:function(){return j.get("desktop.settings.proxy.autodetect")}},"no-proxy":{label:function(){return j.get("desktop.settings.proxy.noproxy")}},http:{label:function(){return j.get("desktop.settings.proxy.http")}},socks4:{label:function(){return j.get("desktop.settings.proxy.socks4")}},socks5:{label:function(){return j.get("desktop.settings.proxy.socks5")}}},Ln=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}],Pn=t(86757);const Tn="mpdBa62OP4Fr5wvCsa89",Rn="acVhMt5pELcXQyLaaPuV",jn="AavUTirpKSAHapguSAy0",Mn="SkbGMKYv49KtJNB5XxdX",In="qfjicQPaTTPrLWJWRxMQ";var Bn=function(e){var n=e.id,t=e.type,a=e.placeHolder,r=e.inputRef,i=e.handleOnChange;return(0,M.jsx)("input",{type:t||"text",id:n,"data-testid":n,className:Mn,placeholder:a,ref:r,onChange:i})},Un=function(e){var n=e.children,t=e.label;return(0,M.jsx)(Pn.g,{label:t,className:In,children:n})},Vn=t(9856),Hn=t.n(Vn);function Wn(){return"Safari"===Hn().parse(window.navigator.userAgent).browser.name}const zn="zrvvPyoxE6wQNqnu0yWA",Gn="jmu6DFPvhxRl0wSfmv2O";var Kn=function(e){var n=e.value,t=e.id,a=e.children,r=e.disabled,i=e.onSelect,o=e.className,s=e.dir;return(0,M.jsx)("span",{className:o,children:(0,M.jsx)("select",{className:re()(zn,(0,p.A)({},Gn,Wn())),value:null==n?void 0:n.toString(),id:t,disabled:r,onBlur:function(){},onChange:function(e){i(e.target.value)},dir:s,children:a})})};t(96358);function Yn(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return Xn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xn(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw i}}}}function Xn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}var Jn=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"}),qn=/[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Zn=/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])/,Qn=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/;function $n(e){return null!==e&&qn.test(e)}function et(e){return null!==e&&(e<="/"||e>=":"&&e<="@"||"\\"===e||$n(e))}function nt(e){return null!==e&&Zn.test(e)}function tt(e){return null!==e&&Qn.test(e)}var at=function(){function e(n,t,a){if((0,w.A)(this,e),t<0||a<0||t+a>n.length)throw new RangeError;this.data=n,this.offset=t,this.length=a,this.position=0}return(0,k.A)(e,[{key:"toString",value:function(){return this.data.slice(this.offset,this.offset+this.length).join("")}},{key:"slice",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;if(n<0||t>this.length)throw new RangeError;var a=this.offset+n,r=t-n;return new e(this.data,a,r)}},{key:"nextCodePoint",value:function(){return this.position===this.length?null:this.data[this.offset+this.position++]}}],[{key:"from",value:function(n){var t=Array.from(n.normalize("NFC"));return new e(t,0,t.length)}}])}();function rt(e){var n;do{n=e.nextCodePoint()}while(null!==n&&$n(n)||nt(n));return n}function it(e,n){var t=rt(e),a=rt(n);if(null===a)return{offset:0,length:0};for(var r=e.offset+e.position-1,i=e.offset+e.position;;){if(null===t&&null===a)return{offset:r,length:i-r};if(null===a)return{offset:r,length:i-r};if(null===t)return null;if(0!==Jn.compare(t,a))return null;i=e.offset+e.position,t=rt(e),a=rt(n)}}function ot(e,n){var t,a,r;do{a=e.position,t=e.nextCodePoint()}while(null!==t&&$n(t));if(null!=n&&n.segmentQuotedStrings&&function(e){return null!==e&&('"'===e||"'"===e)}(t)){var i=t;a=e.position;do{r=e.position,t=e.nextCodePoint()}while(null!==t&&t!==i);return null===t&&a===r?null:e.slice(a,r)}do{if(r=e.position,null!=n&&n.segmentCJKUnifieIdeographs&&tt(t))break;t=e.nextCodePoint()}while(null!==t&&!et(t));return null===t&&a===r?null:e.slice(a,r)}function st(e){return ot(e,{segmentQuotedStrings:!0,segmentCJKUnifieIdeographs:!1})}function lt(e){return ot(e,{segmentQuotedStrings:!1,segmentCJKUnifieIdeographs:!0})}function ut(e,n){for(var t=[],a=lt(e);null!==a;a=lt(e)){var r=it(a,n.slice());null===r?null===(r=it(e.slice(a.offset),n.slice()))||t.push(r):t.push(r)}return t}function ct(e,n){return e.offset===n.offset&&e.length===n.length}var dt=function(e,n){return"string"==typeof e&&"string"==typeof n?!(e.length>0)||null!==function(e){for(var n=at.from(e),t=[],a=st(n);null!==a;a=st(n)){for(var r=[],i=0;i<(arguments.length<=1?0:arguments.length-1);++i){var o,s=i+1<1||arguments.length<=i+1?void 0:arguments[i+1],l=Yn(ut(at.from(s),a));try{for(l.s();!(o=l.n()).done;){var u=o.value;r.push({text:s,range:u})}}catch(e){l.e(e)}finally{l.f()}}if(0===r.length)return null;t.push.apply(t,(0,bn.A)(r.filter((function(e,n,t){return e.range.length>0&&t.findIndex((function(n){return ct(e.range,n.range)}))===n}))))}return t.length>0?t:null}(e,n):"boolean"!=typeof e||e},pt=((0,t(85301).vt)((function(e){return{lastFilterState:"",lastFilteredUri:"",setLastState:function(n,t){e({lastFilterState:n,lastFilteredUri:t})}}})),(0,m.createContext)({setFilter:function(){throw new Error("setFilter must be used within a FilterProvider")},filter:""})),ft=(0,m.createContext)(void 0),mt=function(e){var n=e.children,t=(0,m.useState)(!1),a=(0,f.A)(t,2),r=a[0],i=a[1],o=(0,m.useState)(new Set),s=(0,f.A)(o,2),l=s[0],u=s[1],c=(0,m.useCallback)((function(e,n){u((function(t){if(t.has(e)===n)return t;var a=new Set(t);return n?a.add(e):a.delete(e),a}))}),[]),d=l.size>0;return(0,M.jsx)(ft.Provider,{value:{sectionMatch:r,setSectionMatch:i,sectionContainsMatch:d,setSectionFilterMatchQueryValue:c},children:n})},gt=function(){var e=(0,m.useContext)(ft);if(void 0===e)throw new Error("useSectionMatchState() must be used within a SectionFilterMatchContextProvider");return e};const ht={section:"k6GFKyOKVR5Ruofj3aTQ",hidden:"afyQ2L5zTtlSDtn9WPjd"};function bt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function vt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bt(Object(t),!0).forEach((function(n){(0,p.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Et(e){var n=e.children,t=e.filterMatchQuery,a=(0,m.useContext)(pt).filter,r=gt(),i=r.setSectionMatch,o=r.sectionContainsMatch,s=dt(a,t);(0,m.useEffect)((function(){i(s)}),[s,i]);var l=!s&&!o;return(0,M.jsx)("div",{className:re()(ht.section,(0,p.A)({},ht.hidden,l)),children:n})}function yt(e){return(0,M.jsx)(mt,{children:(0,M.jsx)(Et,vt({},e))})}var At=t(54925),wt=(t(3521),t(32693),t(11170)),kt=t.n(wt);const Dt={highlightedText:"M0E2Al6URHV3iyoDbvi_"};var St=["searchWords","textToHighlight"];function xt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Ct(e){var n=e.searchWords,t=e.textToHighlight,a=(0,te.A)(e,St);return 0===n.length||n.every((function(e){return!e}))?(0,M.jsx)(M.Fragment,{children:t}):(0,M.jsx)(kt(),function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xt(Object(t),!0).forEach((function(n){(0,p.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({highlightClassName:Dt.highlightedText,searchWords:n,textToHighlight:t,autoEscape:!0},a))}function Ft(e){var n=e.children,t=e.className,a=e.semanticColor,r=void 0===a?"textBase":a,i=(0,m.useContext)(pt).filter;return(0,M.jsx)(At.E,{as:"h2",variant:"bodyMediumBold",semanticColor:r,className:t,children:(0,M.jsx)(Ct,{searchWords:[i],textToHighlight:n})})}const Ot="wjxwX0Alq8DVfoBObi3R";function Nt(e){var n=e.onClick;return(0,M.jsx)(z.n,{className:Ot,onClick:n,children:j.get("settings.restartApp")})}var _t=function(e,n,t){var a="".concat(e,":").concat(n);switch(t){case Fn:a+="@http";break;case On:a+="@socks4";break;case Nn:a+="@socks5"}return a},Lt=function(e){var n=e.addr,t=e.mode,a=void 0===t?"0":t,r=e.pass,i=e.user,o=e.setValue,s=e.restartContainer,l=e.fullWidth,u=(0,m.useRef)(null),c=(0,m.useRef)(null),d=(0,m.useRef)(null),p=(0,m.useRef)(null),g=Number(a),h=(0,m.useState)(""),b=(0,f.A)(h,2),v=b[0],E=b[1],y=(0,m.useState)(""),A=(0,f.A)(y,2),w=A[0],k=A[1],D=(0,m.useState)(!1),S=(0,f.A)(D,2),x=S[0],C=S[1];(0,m.useEffect)((function(){var e=(null==n?void 0:n.split(/[:@]+/))||["",""],t=(0,f.A)(e,2),a=t[0],r=t[1];E(a),k(r),u.current&&(u.current.value=a),c.current&&(c.current.value=r)}),[n]),(0,m.useEffect)((function(){p.current&&r&&(p.current.value=r.toString())}),[r]),(0,m.useEffect)((function(){d.current&&i&&(d.current.value=i.toString())}),[i]);var F=(0,m.useCallback)((function(e){var n=e.target,t=_t(n.value,w,g);E(n.value),o("network.proxy.addr",t),C(!0)}),[g,w,o]),O=(0,m.useCallback)((function(e){var n=e.target,t=_t(v,n.value,g);k(n.value),o("network.proxy.addr",t),C(!0)}),[g,v,o]),N=(0,m.useCallback)((function(e){var n=e.target;o("network.proxy.user",n.value),C(!0)}),[o]),_=(0,m.useCallback)((function(e){var n=e.target;o("network.proxy.pass",n.value),C(!0)}),[o]),L=0!==g&&1!==g,P=g!==On;return(0,M.jsxs)(yt,{filterMatchQuery:j.get("desktop.settings.proxy.title"),children:[(0,M.jsx)(Ft,{children:j.get("desktop.settings.proxy.title")}),(0,M.jsxs)("div",{className:re()(Rn,l?jn:null),children:[(0,M.jsx)(Un,{label:j.get("desktop.settings.proxy.type"),children:(0,M.jsx)(Kn,{id:"network.proxy.mode",value:a,onSelect:function(e){var n=parseInt(e,10);o("network.proxy.mode",n),C(!0)},children:Ln.map((function(e){var n=e.enumKey,t=e.enumValue;return(0,M.jsx)("option",{value:t,"data-testid":n,children:_n[n]?_n[n].label():""},n)}))})}),L?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:Tn,children:[(0,M.jsx)(Un,{label:j.get("desktop.settings.proxy.host"),children:(0,M.jsx)(Bn,{id:"network.proxy.host",handleOnChange:F,placeHolder:j.get("desktop.settings.proxy.host"),inputRef:u})}),(0,M.jsx)(Un,{label:j.get("desktop.settings.proxy.port"),children:(0,M.jsx)(Bn,{id:"network.proxy.port",type:"number",handleOnChange:O,placeHolder:j.get("desktop.settings.proxy.port"),inputRef:c})})]}),(0,M.jsxs)("div",{className:P?Tn:void 0,children:[(0,M.jsx)(Un,{label:j.get("desktop.settings.proxy.user"),children:(0,M.jsx)(Bn,{id:"network.proxy.user",handleOnChange:N,placeHolder:j.get("desktop.settings.proxy.user"),inputRef:d})}),P?(0,M.jsx)(Un,{label:j.get("desktop.settings.proxy.pass"),children:(0,M.jsx)(Bn,{id:"network.proxy.pass",handleOnChange:_,placeHolder:j.get("desktop.settings.proxy.pass"),type:"password",inputRef:p})}):null]})]}):null,x&&(0,M.jsx)("div",{children:(0,M.jsx)(Nt,{onClick:s})})]})]})};function Pt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var Tt="sp://proxy/v1/";function Rt(){return(Rt=(0,r.A)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){window.sendCosmosRequest({request:JSON.stringify({method:"GET",uri:Tt}),persistent:!1,onSuccess:function(t){var a=JSON.parse(t);200!==a.status&&n(new Error("Failed to fetch proxy settings (status code: ".concat(a.status,")")));var r=JSON.parse(a.body);e({mode:r["network.proxy.mode"],address:r["network.proxy.addr"],username:r["network.proxy.user"],password:r["network.proxy.pass"]})},onFailure:function(e,t){n(e)}})})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return(jt=(0,r.A)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var a={"network.proxy.mode":n.mode};[Fn,On,Nn].includes(n.mode)&&(a["network.proxy.addr"]=n.address,a["network.proxy.user"]=n.username),[Fn,Nn].includes(n.mode)&&(a["network.proxy.pass"]=n.password),window.sendCosmosRequest({request:JSON.stringify({method:"PUT",uri:Tt,body:JSON.stringify(a)}),persistent:!1,onSuccess:function(){e()},onFailure:function(e,n){t(e)}})})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mt(){var e=(0,m.useState)(null),n=(0,f.A)(e,2),t=n[0],a=n[1];(0,m.useEffect)((function(){(function(){return Rt.apply(this,arguments)})().then(a)}),[a]);var r=(0,m.useCallback)((function(e){(function(e){return jt.apply(this,arguments)})(e).then((function(){return a(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pt(Object(t),!0).forEach((function(n){(0,p.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e))}))}),[a]);return{settings:t,updateSettings:r}}function It(){return(It=(0,r.A)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){window.sendCosmosRequest({request:JSON.stringify({method:"POST",uri:"sp://desktop/v1/restart"}),persistent:!1,onSuccess:function(){e()},onFailure:function(e,t){n(e)}})})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bt(){return(0,m.useCallback)((function(){return function(){return It.apply(this,arguments)}()}),[])}const Ut="BuzoTjBZd1UqCn6DmFJr",Vt="HKamyJi9H31s99erfVyG";var Ht=function(){return(0,M.jsxs)("div",{className:Vt,children:[(0,M.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"12px",width:"56px",x:"0px",y:"0px",viewBox:"0 0 1 100",xmlSpace:"preserve","data-testid":"loadingIcon",children:[(0,M.jsx)("circle",{className:Ut,cx:"-140",cy:"50",r:"32"}),(0,M.jsx)("circle",{className:Ut,cx:"0",cy:"50",r:"32"}),(0,M.jsx)("circle",{className:Ut,cx:"140",cy:"50",r:"32"})]}),(0,M.jsx)("span",{className:"hidden-visually",children:j.get("page.loading")})]})},Wt=["network.proxy.mode","network.proxy.addr","network.proxy.user","network.proxy.pass"];var zt,Gt=function(){var e=Mt(),n=e.settings,t=e.updateSettings,a=Bt(),r=(0,m.useCallback)((function(e,a){if(null!==n&&function(e){return!!Wt.includes(e)}(e)){var r=n;switch(e){case"network.proxy.mode":r.mode=a;break;case"network.proxy.addr":r.address=a;break;case"network.proxy.user":r.username=a;break;case"network.proxy.pass":r.password=a}t(r)}return Promise.resolve()}),[n,t]);return(0,M.jsxs)("main",{className:"Settings","aria-labelledby":"settings-form-title","data-testid":"settings",children:[(0,M.jsx)("h1",{className:"HeroText",id:"settings-form-title",children:j.get("desktop.login.PreferencesLink")}),null!==n?(0,M.jsx)(Lt,{mode:n.mode,addr:n.address,user:n.username,pass:n.password,setValue:r,restartContainer:a,fullWidth:!0}):(0,M.jsx)(Ht,{})]})},Kt=t(13234),Yt=function(e){var n=e.toggleSettings,t=e.isOpen,a=void 0===t||t;return(0,M.jsx)(Oe,{className:q,isOpen:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!0,overlayClassName:Q,onRequestClose:n,"aria-label":j.get("desktop.login.PreferencesLink"),children:(0,M.jsxs)("div",{className:Z,children:[(0,M.jsx)("img",{className:"Header__logo",src:"images/logo.svg",alt:""}),(0,M.jsx)(Gt,{}),(0,M.jsx)(Kt.H,{size:"medium",semanticColor:"textBase",onClick:n,children:j.get("close")})]})})},Xt=(t(85367),t(78003),t(83446),function(){return"undefined"==typeof window});function Jt(e){return!Xt()&&e instanceof HTMLElement}var qt={subscribersByElement:new WeakMap,get resizeObserver(){return zt||(zt=new ResizeObserver((function(e){Array.isArray(e)&&e.forEach((function(n){var t,a={width:Math.round(n.contentRect.width),height:Math.round(n.contentRect.height)};(null!==(t=qt.subscribersByElement.get(n.target))&&void 0!==t?t:new Set).forEach((function(t){t(a,n,e)}))}))}))),zt}};function Zt(e){var n=e.onResize,t=e.refOrElement,a=e.observeOnly,r=e.observeOnMount,i=void 0!==r&&r,o=(0,m.useRef)(n);o.current=n;var s=(0,m.useRef)(a);s.current=a;var l=(0,m.useRef)({width:-1,height:-1}),u=(0,m.useCallback)((function(e,n,t){if(o.current){var a=l.current.width!==e.width,r=l.current.height!==e.height;("width"===s.current&&a||"height"===s.current&&r||!s.current&&(a||r))&&o.current(e,n,t),l.current.width=e.width,l.current.height=e.height}}),[]),c=function(e){var n,t=e.refOrElement,a=e.subscriber,r=null,i=(0,m.useRef)(null),o=(0,m.useRef)(null),s=(0,m.useRef)(null),l=(0,m.useRef)(),u=(0,m.useRef)(a);u.current=a;var c=(0,m.useCallback)((function(){var e=null;o.current?e=o.current:i.current?e=i.current:Jt(t)&&(e=t),s.current!==e&&(l.current&&(l.current(),l.current=null),s.current=e,e&&u.current&&(l.current=u.current(e)))}),[t]),d=(0,m.useCallback)((function(e){o.current=e,c()}),[c]);return t&&!Jt(t)&&(r=t),(0,m.useLayoutEffect)((function(){r&&(i.current=r.current),c()}),[r,null===(n=r)||void 0===n?void 0:n.current,c]),(0,m.useEffect)((function(){return function(){var e;null==l||null===(e=l.current)||void 0===e||e.call(l)}}),[]),d}({refOrElement:t,subscriber:function(e){var n;return i&&u({width:e.offsetWidth,height:e.offsetHeight},null,[]),qt.subscribersByElement.has(e)||(qt.resizeObserver.observe(e),qt.subscribersByElement.set(e,new Set)),null===(n=qt.subscribersByElement.get(e))||void 0===n||n.add(u),function(){var n,t;null===(n=qt.subscribersByElement.get(e))||void 0===n||n.delete(u),0===(null===(t=qt.subscribersByElement.get(e))||void 0===t?void 0:t.size)&&(qt.resizeObserver.unobserve(e),qt.subscribersByElement.delete(e))}}});return c}function Qt(e,n,t){var a=(0,m.useState)(),r=(0,f.A)(a,2),i=r[0],o=r[1],s=Object.entries(e).sort((function(e,n){return n[1]-e[1]}));return{ref:Zt({refOrElement:t,observeOnly:n,onResize:function(e){var t=e[n];if(void 0!==t){var a=s.find((function(e){var n=(0,f.A)(e,2)[1];return t>=n})),r=a&&a[0];r&&r!==i&&o(r)}}}),breakpoint:i}}var $t=t(56369),ea=function(){return(0,k.A)((function e(n,t){(0,w.A)(this,e),(0,p.A)(this,"subscriptionId",null),(0,p.A)(this,"subscription",null),this._watchdogClient=n,this._url=t,this.subscribeToWatchdog()}),[{key:"subscribeToWatchdog",value:function(){var e=this;this.subscription=this._watchdogClient.subscribe({url:this._url},(function(n){var t;0!==n.id?(e.subscriptionId=n.id,e.scheduleNextPing()):null===(t=e.subscription)||void 0===t||t.cancel()}))}},{key:"pingWatchdog",value:(e=(0,r.A)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.subscriptionId){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._watchdogClient.ping({id:this.subscriptionId});case 4:this.scheduleNextPing();case 5:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"scheduleNextPing",value:function(){var e=this;setTimeout((function(){e.pingWatchdog()}),6e4)}}]);var e}();var na=t(16385),ta=t(17195),aa=t(10224),ra=t(98331);t(10381),t(69927),t(2979),t(97731),t(1834),t(21294),t(96525),t(75687),t(73066),t(79656),t(26460),t(97390),t(14297),t(87348),t(99333),t(81909),t(78920),t(53252),t(35866),t(67781),t(7505),t(58243),t(85502),t(28261),t(57597),t(96654),t(26325),t(98771),t(28249),t(66411),t(58071),t(32396),t(67367),t(89921),t(15542),t(34562),t(90379);function ia(e,n,t){return n=(0,ta.A)(n),(0,na.A)(e,oa()?Reflect.construct(n,t||[],(0,ta.A)(e).constructor):n.apply(e,t))}function oa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oa=function(){return!!e})()}var sa=function(){return(0,k.A)((function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,w.A)(this,e),this._output=n,this._offset=t,this._view=new DataView(this._output.buffer,this._output.byteOffset)}),[{key:"write",value:function(e){this._view.setInt32(this._offset,e.byteLength),this._output.set(e,this._offset+4),this._offset+=e.byteLength+4}}])}();function la(e){var n=new TextEncoder,t=n.encode(e.service),a=n.encode(e.method),r=e.payload,i=new Uint8Array(4+t.byteLength+4+a.byteLength+4+r.byteLength),o=new sa(i);return o.write(t),o.write(a),o.write(r),i.buffer}var ua,ca=function(e){function n(){return(0,w.A)(this,n),ia(this,n,["aborted"])}return(0,aa.A)(n,e),(0,k.A)(n)}((0,ra.A)(Error)),da=(ua="EsperantoTransport",Symbol.for(ua),function(){return(0,k.A)((function e(n,t){(0,w.A)(this,e),this._onSend=n,this._onCancel=t}),[{key:"callSingle",value:function(e){var n,t=this,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).signal;return new Promise((function(r,i){var o=t.call(e,!1,r,i);null==a||a.addEventListener("abort",n=function(){o.cancel(),i(new ca)})})).finally((function(){return null==a?void 0:a.removeEventListener("abort",n)}))}},{key:"callStream",value:function(e,n){return this.call(e,!0,n,(function(e){throw e}))}},{key:"call",value:function(e,n,t,a){var r=this._onSend({request:la(e),persistent:n,onSuccess:function(n){n instanceof ArrayBuffer?t(new Uint8Array(n)):a(new Error("".concat(e.service,".").concat(e.method," failed with invalid payload!")))},onFailure:function(n,t){a(new Error("".concat(e.service,".").concat(e.method," failed with code: ").concat(t)))}}),i=this._onCancel;return{cancel:function(){i(r)}}}}])}());function pa(){var e=t.g.window||{};return new da(e.executeEsperantoCall,e.cancelEsperantoCall)}function fa(){return ma.apply(this,arguments)}function ma(){return(ma=(0,r.A)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var t=JSON.stringify({type:"view_loaded",name:"/loginUI",innerWidth:window.innerWidth,innerHeight:window.innerHeight});window.sendCosmosRequest({request:JSON.stringify({method:"POST",uri:"sp://messages/v1/container/control",body:t}),persistent:!1,onSuccess:function(){e()},onFailure:function(e,t){n(e)}});var a,r,i=pa();a=i,r="/loginUI",new ea(new $t.NH(a),r)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ga=function(){var e=Ze(),n=e.logger,t=e.pageviewActionHash;(0,m.useEffect)((function(){fa()}),[]),(0,m.useEffect)((function(){t&&n.logPageView({page:"auth-on-web",actionHash:t})}),[n,t]);var a=(0,m.useRef)(!0),r=(0,m.useRef)(!0),i=(0,m.useRef)(!0),o=(0,m.useRef)(null),s=(0,m.useState)(!1),l=(0,f.A)(s,2),u=l[0],c=l[1],d=(0,m.useState)(0),g=(0,f.A)(d,2),h=g[0],b=g[1],v=Qt((0,p.A)((0,p.A)((0,p.A)({},G.SMALL,0),G.MEDIUM,1024),G.LARGE,1600),"width",o).breakpoint,E=function(e,n){return Qt(e,"height",n)}((0,p.A)((0,p.A)((0,p.A)({},G.SMALL,0),G.MEDIUM,800),G.LARGE,1200),o),y=E.breakpoint,A=(0,m.useCallback)((function(){c(!u)}),[u]),w=Sn.includes(j.getLocaleForTranslation().valueOf())?j.getLocaleForTranslation().valueOf():"en",k=[{backgroundImage:(0,M.jsx)(Cn,{fadeInRef:a}),titleStrings:[j.get("desktop-auth.login.millions-of-songs"),j.get("desktop-auth.login.free-on-spotify")],titleVariants:(0,p.A)((0,p.A)((0,p.A)({},G.SMALL,"brio"),G.MEDIUM,"forte"),G.LARGE,"bass")},{backgroundImage:(0,M.jsx)(gn,{imageLocale:w,fadeInRef:r}),titleStrings:[j.get("desktop-auth.login.collect-and-create")],titleVariants:(0,p.A)((0,p.A)((0,p.A)({},G.SMALL,"alto"),G.MEDIUM,"brio"),G.LARGE,"forte")},{backgroundImage:(0,M.jsx)(hn,{imageLocale:w,fadeInRef:i}),titleStrings:[j.get("desktop-auth.login.perfect-work-environment")],titleVariants:(0,p.A)((0,p.A)((0,p.A)({},G.SMALL,"alto"),G.MEDIUM,"brio"),G.LARGE,"forte")}];return(0,M.jsx)(H.K,{children:(0,M.jsx)("div",{className:B,ref:o,"data-testid":"new-login",children:(0,M.jsxs)("main",{className:U,children:[(0,M.jsxs)("div",{className:V,children:[(0,M.jsx)(I,{toggleSettings:A}),(0,M.jsx)(en,{titleStrings:k[h].titleStrings,titleVariants:k[h].titleVariants,widthBreakpoint:v,heightBreakpoint:y})]}),(0,M.jsx)(cn,{nrSteps:k.length,atStep:h,navigate:b,backgroundImage:k[h].backgroundImage}),u&&(0,M.jsx)(Yt,{toggleSettings:A})]})})})};const ha="_4sAimuD_zstEpQjSRHql",ba="Lo8UOyZncZeauxzo1zce",va="Z1lRkuK3aAblyTU6eakJ",Ea="N1wj4kvAondUABJthoPs",ya="jhwMfVBB2fCPloJsLNv6";var Aa=function(e){var n=e.showSettings,t=Ze(),a=t.logger,r=t.pageviewActionHash;(0,m.useEffect)((function(){r&&a.logPageView({page:"auth-on-web",actionHash:r})}),[a,r]);var i=$e(),o=i.handleLoginOrSignupClick,s=i.handleTryAgainClick,l=i.isWaitingForBrowser,u=i.isSigningUp,c=i.errorMessage;return(0,M.jsx)("main",{"data-testid":"login",children:l?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(W.Z,{as:"h1",variant:"alto",semanticColor:"textBase",className:ha,children:u?j.get("desktop-auth.login.go-to-browser-signup"):j.get("desktop-auth.login.go-to-browser-login")}),(0,M.jsxs)("button",{className:va,onClick:s,children:[(0,M.jsx)(W.Z,{as:"span",variant:"ballad",semanticColor:"textSubdued",children:j.get("desktop-auth.login.not-seeing-browser")})," ",(0,M.jsx)(W.Z,{as:"span",variant:"balladBold",semanticColor:"textBase",children:j.get("desktop-auth.login.try-again")})]})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(W.Z,{as:"h1",variant:"alto",semanticColor:"textBase",className:ha,children:[j.get("desktop-auth.login.millions-of-songs"),(0,M.jsx)("br",{}),j.get("desktop-auth.login.free-on-spotify")]}),c&&(0,M.jsxs)("div",{className:Ea,role:"alert",onClick:function(e){e.currentTarget.getAttribute("data-action")&&("showSettings"===e.currentTarget.getAttribute("data-action")&&n())},"aria-live":"assertive",children:[(0,M.jsx)(J.b,{className:ya}),(0,M.jsx)("span",{dangerouslySetInnerHTML:{__html:c}})]}),(0,M.jsx)(g.$,{onClick:function(){o(!1)},iconTrailing:h.H,"data-testid":"login-button",children:j.get("desktop-auth.login.log-in-with-browser")}),(0,M.jsxs)("button",{className:ba,onClick:function(){o(!0)},children:[(0,M.jsx)(W.Z,{as:"span",variant:"ballad",semanticColor:"textSubdued",children:j.get("desktop-auth.login.new-to-spotify")}),(0,M.jsx)(W.Z,{as:"span",variant:"balladBold",semanticColor:"textBase",children:j.get("desktop-auth.login.sign-up-with-browser")}),(0,M.jsx)(h.H,{iconSize:16,semanticColor:"textBase"})]})]})})},wa=function(e){var n=e.mode,t=e.showLogin,a=e.showSettings,r=Ze().logger;return(0,M.jsx)("footer",{className:"Footer",role:"contentinfo",children:"settings"===n?(0,M.jsx)("a",{className:"Footer__link",href:"#",onClick:function(){r.logAction({page:"settings",action_type:"click",action_intent:"back-to-login"}),t()},"data-ta-id":"login-footer-settings-back-to-login",children:j.get("desktop.login.Back")}):(0,M.jsx)("a",{className:"Footer__link",href:"#",onClick:function(){r.logAction({page:"settings",action_type:"click",action_intent:"open-page-settings"}),a()},"data-ta-id":"login-footer-settings",children:j.get("desktop.login.PreferencesLink")})})},ka=function(){return(0,M.jsxs)("header",{className:"Header",children:[(0,M.jsx)("h1",{className:"hidden-visually",children:"Spotify"}),(0,M.jsx)("img",{className:"Header__logo",src:"images/logo.svg",alt:""})]})},Da=t(8399),Sa=t(24818);var xa=function(e){var n,t,a=e.initialMode,r=void 0===a?"login":a,i=(0,m.useState)(r),o=(0,f.A)(i,2),s=o[0],l=o[1],u=(n=s,t=(0,m.useRef)(),(0,m.useEffect)((function(){t.current=n}),[n]),t.current),c=Ze().logger;(0,m.useEffect)((function(){fa()}),[]),(0,m.useEffect)((function(){"login"===s?c.logPageView({page:"login"}):"settings"===s&&c.logPageView({page:"login/settings"})}),[s,c]);var d=u?"__".concat(s," __").concat(u,"-to-").concat(s):"",p=function(){return l("settings")};return(0,M.jsxs)("main",{className:"App","data-ta-id":"login-app","data-testid":"login-app","data-ta-login-mode":s,children:[(0,M.jsxs)("div",{className:"fakeWebPlayer",children:[(0,M.jsx)("aside",{}),(0,M.jsxs)("footer",{children:[(0,M.jsx)("div",{className:"fakeWebPlayer__footer-left"}),(0,M.jsx)("div",{className:"fakeWebPlayer__footer-center"}),(0,M.jsx)("div",{className:"fakeWebPlayer__footer-right"})]}),(0,M.jsx)("main",{children:(0,M.jsx)("div",{className:"fakeWebPlayer__content"})})]}),(0,M.jsx)("div",{className:"App__content ".concat(d),children:(0,M.jsx)(Sa.A,{mode:"in-out",children:(0,M.jsx)(Da.A,{timeout:{appear:0,enter:0,exit:650},children:(0,M.jsxs)("div",{className:"App__modal ".concat(d),children:[(0,M.jsx)(ka,{}),"settings"===s?(0,M.jsx)(Gt,{}):(0,M.jsx)(Aa,{showSettings:p}),(0,M.jsx)(wa,{mode:s,showLogin:function(){return l("login")},showSettings:p})]})},d)})})]},"main1")},Ca=function(e){var n=e.initialMode,t=(0,l.NC)(d);return(0,M.jsx)(M.Fragment,{children:t?(0,M.jsx)(ga,{}):(0,M.jsx)(xa,{initialMode:n})})},Fa=t(83506),Oa=t(17680),Na=t(21449),_a=function(e){return e.Web="Web",e.PWA="PWA",e.Desktop="Desktop",e}({}),La=function(e){return e.macOS="macOS",e.Windows="Windows",e.Linux="Linux",e.ChromeOS="ChromeOS",e.Other="Other",e}({});var Pa={BROWSER_EDGE:"spotify__browser--is-edge",BROWSER_SAFARI:"spotify__browser--is-safari",OS_MACOS:"spotify__os--is-macos",OS_WINDOWS:"spotify__os--is-windows",OS_LINUX:"spotify__os--is-linux",OS_CHROMEOS:"spotify__os--is-chromeos",CONTAINER_DESKTOP:"spotify__container--is-desktop",CONTAINER_PWA:"spotify__container--is-pwa",CONTAINER_WEB:"spotify__container--is-web"};function Ta(e,n){var t,a;t=Object.values(Pa),(a=document.documentElement.classList).remove.apply(a,(0,bn.A)(t));var r=[];"Microsoft Edge"===Hn().parse(window.navigator.userAgent).browser.name?r.push(Pa.BROWSER_EDGE):Wn()&&r.push(Pa.BROWSER_SAFARI),n===La.macOS?r.push(Pa.OS_MACOS):n===La.Windows?r.push(Pa.OS_WINDOWS):n===La.Linux?r.push(Pa.OS_LINUX):n===La.ChromeOS&&r.push(Pa.OS_CHROMEOS),e===_a.Desktop?r.push(Pa.CONTAINER_DESKTOP):e===_a.PWA?r.push(Pa.CONTAINER_PWA):e===_a.Web&&r.push(Pa.CONTAINER_WEB),function(e){e.forEach((function(e){document.documentElement.classList.add(e)}))}(r)}var Ra=t(77412),ja=function(e,n){var t=e.event_sender_context_information;return[(0,Ra.QI)({version_code:t.client_version_int,version_string:t.client_version_string}),(0,Ra.ks)(n),(0,Ra.xB)(t.installation_id),(0,Ra.es)({device_id:t.device_id,device_manufacturer:t.device_manufacturer,device_model:t.device_model,os_version:t.os_version,platform_type:t.platform_type})]},Ma=function(e,n,t){var a=t.clientId,r=t.ownerProvider,i=t.storagePrefix,o=t.useInMemoryStorage,s=t.useOptimizedESS2NA;return(0,Ra.kE)({transport:n,suppressPersist:false,context:ja(e,a),storage:o?{adapter:new Ra.ty,flushStrategy:{kind:Ra.aN.IMMEDIATE}}:void 0,storagePrefix:i,ownerProvider:r,useOptimizedESS2NA:s})},Ia=(t(85671),t(63222),t(64226),t(67626),t(29439));t(6990),t(86475),t(51168);function Ba(){Ba=function(e,n){return new t(e,void 0,n)};var e=RegExp.prototype,n=new WeakMap;function t(e,a,r){var i=RegExp(e,a);return n.set(i,r||n.get(e)),(0,Ia.A)(i,t.prototype)}function a(e,t){var a=n.get(t);return Object.keys(a).reduce((function(n,t){var r=a[t];if("number"==typeof r)n[t]=e[r];else{for(var i=0;void 0===e[r[i]]&&i+1<r.length;)i++;n[t]=e[r[i]]}return n}),Object.create(null))}return(0,aa.A)(t,RegExp),t.prototype.exec=function(n){var t=e.exec.call(this,n);if(t){t.groups=a(t,this);var r=t.indices;r&&(r.groups=a(r,this))}return t},t.prototype[Symbol.replace]=function(t,r){if("string"==typeof r){var i=n.get(this);return e[Symbol.replace].call(this,t,r.replace(/\$<([^>]+)>/g,(function(e,n){var t=i[n];return"$"+(Array.isArray(t)?t.join("$"):t)})))}if("function"==typeof r){var o=this;return e[Symbol.replace].call(this,t,(function(){var e=arguments;return"object"!=(0,A.A)(e[e.length-1])&&(e=[].slice.call(e)).push(a(e,o)),r.apply(this,e)}))}return e[Symbol.replace].call(this,t,r)},Ba.apply(this,arguments)}var Ua=Ba(/Spotify\/(.+)\s/,{version:1});function Va(){if(!!window.navigator.userAgent.match(Ua))return _a.Desktop;var e="serviceWorker"in window.navigator,n=window.matchMedia("(display-mode: standalone)").matches,t="Windows"in window;return e&&(n||t)?_a.PWA:_a.Web}var Ha=t(4294);function Wa(){var e=(0,Ha.ZA)({providers:{endpoints:(0,Ha.u6)(),token:function(){return Promise.reject()}}});return e.connect(),e}function za(){za=function(e,n){return new t(e,void 0,n)};var e=RegExp.prototype,n=new WeakMap;function t(e,a,r){var i=RegExp(e,a);return n.set(i,r||n.get(e)),(0,Ia.A)(i,t.prototype)}function a(e,t){var a=n.get(t);return Object.keys(a).reduce((function(n,t){var r=a[t];if("number"==typeof r)n[t]=e[r];else{for(var i=0;void 0===e[r[i]]&&i+1<r.length;)i++;n[t]=e[r[i]]}return n}),Object.create(null))}return(0,aa.A)(t,RegExp),t.prototype.exec=function(n){var t=e.exec.call(this,n);if(t){t.groups=a(t,this);var r=t.indices;r&&(r.groups=a(r,this))}return t},t.prototype[Symbol.replace]=function(t,r){if("string"==typeof r){var i=n.get(this);return e[Symbol.replace].call(this,t,r.replace(/\$<([^>]+)>/g,(function(e,n){var t=i[n];return"$"+(Array.isArray(t)?t.join("$"):t)})))}if("function"==typeof r){var o=this;return e[Symbol.replace].call(this,t,(function(){var e=arguments;return"object"!=(0,A.A)(e[e.length-1])&&(e=[].slice.call(e)).push(a(e,o)),r.apply(this,e)}))}return e[Symbol.replace].call(this,t,r)},za.apply(this,arguments)}var Ga=za(/Spotify\/(.+)\s/,{version:1});var Ka=Object.values(a);function Ya(){return(Ya=(0,r.A)(o().mark((function e(){var n,t,a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,t=[window.__spotify.locale,N.en];case 1:if(!(n<t.length)){e.next=17;break}return a=t[n],e.prev=3,e.next=6,fetch("i18n/".concat(a,".json")).then((function(e){return e.json()}));case 6:return r=e.sent,j.initialize({localeForTranslation:a,localeForFormatting:navigator.language,translations:r}),e.abrupt("return");case 11:e.prev=11,e.t0=e.catch(3);case 14:n++,e.next=1;break;case 17:throw new Error("Cannot find a suitable locale! Something is wrong: talk to #desktop.");case 18:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function Xa(){return(Xa=(0,r.A)(o().mark((function e(){var n,t,a,r,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ta(Va(),(d=void 0,"macOS"===(d=Hn().parse(window.navigator.userAgent).os.name)?La.macOS:"Windows"===d?La.Windows:"Linux"===d?La.Linux:"Chrome OS"===d?La.ChromeOS:La.Other)),t=Wa(),a="65b708073fc0480ea92a077233ca87bd",r=Ma(window.__spotify,t,{clientId:a,ownerProvider:function(){return null},storagePrefix:"".concat(a,"-loginui"),useInMemoryStorage:!0,useOptimizedESS2NA:!1}),(i=window.__spotify&&window.__spotify.locale)&&document.documentElement.setAttribute("lang",i),u=Oa.HZ.addMiddleware(Fa.F),(0,s.H)(document.getElementById("main")).render((0,M.jsx)(l.PE,{resolver:u,context:{username:null},options:{clientId:"client-desktop-ui-app-login",properties:Ka,timeout:1e4,transport:t,eventSender:r,version:(o=void 0,c=void 0,c=window.navigator.userAgent.match(Ga),(null==c||null===(o=c.groups)||void 0===o?void 0:o.version)||"unknown"),sp_t_cookie:null===(n=window.__spotify.event_sender_context_information)||void 0===n?void 0:n.installation_id},children:(0,M.jsx)(qe,{eventSender:r,children:(0,M.jsx)(m.Suspense,{fallback:null,children:(0,M.jsx)(Ca,{})})})})),document.documentElement.setAttribute("dir",window.__spotify.localization_is_rtl?"rtl":"ltr"),(0,Na.Lj)("UI init phase is done for login");case 11:case"end":return e.stop()}var o,c,d}),e)})))).apply(this,arguments)}(0,Na.Cd)(),function(){return Ya.apply(this,arguments)}().then((function(){return Xa.apply(this,arguments)}))},94758:e=>{e.exports={af:"af-ZA",am:"am-ET",ar:"ar",az:"az-AZ",bg:"bg-BG",bn:"bn-IN",bho:"bp",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",es:"es-ES","es-419":"es-LA",et:"et-EE",fa:"fa-IR",fr:"fr-FR",fi:"fi-FI",fil:"fp-PH","fr-CA":"fr-CA",gu:"gu-IN",hu:"hu-HU",he:"he-IL",hi:"hi-IN",hr:"hr-HR",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",kn:"kn-IN",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ml:"ml-IN",mr:"mr-IN",ms:"ms-MY",nb:"nb-NO",ne:"ne-NP",nl:"nl-NL",or:"or-IN","pa-IN":"pa-IN","pa-PK":"pa-PK",pl:"pl-PL","pt-PT":"pt-PT","pt-BR":"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-RS",sv:"sv-SE",sw:"sw",ta:"ta-IN",te:"te-IN",th:"th-TH",tr:"tr-TR",uk:"uk-UA",ur:"ur",vi:"vi-VN","zh-CN":"zh-CN","zh-TW":"zh-TW",zu:"zu-ZA","ar-EG":"ar-EG","ar-MA":"ar-MA","ar-SA":"ar-SA",eu:"eu-ES",bs:"bs-BA",ca:"ca-ES","zh-HK":"zh-HK","en-GB":"en-GB",gl:"gl-ES",mk:"mk-MK","es-AR":"es-AR","es-MX":"es-MX"}}},t={};function a(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=n,e=[],a.O=(n,t,r,i)=>{if(!t){var o=1/0;for(c=0;c<e.length;c++){for(var[t,r,i]=e[c],s=!0,l=0;l<t.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](t[l])))?t.splice(l--,1):(s=!1,i<o&&(o=i));if(s){e.splice(c--,1);var u=r();void 0!==u&&(n=u)}}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,r,i]},a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={966:0};a.O.j=n=>0===e[n];var n=(n,t)=>{var r,i,[o,s,l]=t,u=0;if(o.some((n=>0!==e[n]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(l)var c=l(a)}for(n&&n(t);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},t=("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),a.nc=void 0;var r=a.O(void 0,[452],(()=>a(28720)));r=a.O(r)})();
//# sourceMappingURL=login.js.map