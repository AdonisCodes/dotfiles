"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1621],{77174:(e,t,n)=>{n.d(t,{G:()=>c});var a=n(95514),i=n(16247),o=n.n(i),r=(n(60850),n(69645),n(49932),n(36490),n(4207),n(30758)),s=n(86070),c=function(e){return(0,s.jsx)(r.Suspense,{fallback:null,children:(0,r.createElement)((0,r.lazy)((0,a.A)(o().mark((function e(){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(4151),n.e(3417)]).then(n.bind(n,16481));case 2:return t=e.sent,a=t.FeatureActivationSection,e.abrupt("return",{default:a});case 5:case"end":return e.stop()}}),e)})))),e)})}},93855:(e,t,n)=>{n.r(t),n.d(t,{SKELETON_CARDS_COUNT:()=>J,default:()=>q});var a=n(93209),i=n(95514),o=n(16247),r=n.n(o),s=(n(98168),n(60850),n(63222),n(69645),n(9981),n(36490),n(51168),n(93902),n(67626),n(4207),n(64334),n(9433),n(26308),n(84815),n(30758)),c=n(84353),l=n(97500),u=n.n(l),d=n(45976),m=n(61022),h=n(59081),f=n(85107),v=n(46317),p=n(19082),g=n(30961),S=n(70084),x=n(2549),_=n(41485),j=n(8877),y=n(24865),w=n(43910),A=n(77174),H=(n(84008),n(50252),n(23908)),D=n(4906),I=n(71257),b=n(86070),O=function(e){var t,n,a=e.section;return(0,b.jsx)(D.p,{pageId:a.uri,title:null!==(t=null===(n=a.data.title)||void 0===n?void 0:n.text)&&void 0!==t?t:"",showAll:!0,index:0,id:a.uri,rowGap:H.lT,fullPage:!0,children:a.sectionItems.items.map(I.G)})},k=(n(83892),n(27989)),C=n(41721),N=n(33747),P=n(70465),R=function(e){var t=e.section;return(0,b.jsx)(N.x,{config:(0,P.s1)(P.yV.MUSIC_VIDEOS),children:(0,b.jsx)(D.p,{pageId:t.uri,title:h.Ru.get("music_videos"),showAll:!0,index:0,id:t.uri,rowGap:(0,k.po)("looser"),fullPage:!0,children:t.sectionItems.items.map((function(e,t){if("TrackResponseWrapper"!==e.content.__typename||"Track"!==e.content.data.__typename)return null;var n=e.content.data;return(0,b.jsx)(C.O,{title:n.name,trackUri:n.uri,artists:n.artists.items,album:n.albumOfTrack,contentRating:n.contentRating,referrerIdentifier:"other",index:t},n.uri)}))})})},F=n(24758),T=function(e){var t,n=e.section;switch(null===(t=n.data)||void 0===t?void 0:t.__typename){case"HomeGenericSectionData":return(0,b.jsx)(O,{section:(0,F.M)(n,n.data)});case"HomeMusicVideosSectionData":return(0,b.jsx)(R,{section:(0,F.M)(n,n.data)});case"HomeShortsSectionData":case"HomeRecentlyPlayedSectionData":case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeGridSectionData":case"HomeSpotlightSectionData":case"HomePromotionSectionData":case null:case void 0:case"HomeFeatureActivationSectionData":case"HomeWatchFeedSectionData":case"HomeOnboardingSectionDataV2":case"HomeYourDJSectionData":return null;case"HomeFeatureActivationSectionDataV2":return(0,b.jsx)(A.G,{sectionItems:n.sectionItems.items,showAll:!0,uri:n.uri,localStorageKey:n.data.localStorageKey});default:return(0,_.k)(n.data),null}},G=n(46052),E=n(82101),M=(0,s.memo)((function(e){var t=e.cardCount;return(0,b.jsx)(E._,{isLoading:!0,showAll:!0,withTitle:!0,children:(0,a.A)(new Array(t).keys()).map((function(e,t){return(0,b.jsx)(G.u,{isLoading:!0},t)}))})})),L=n(21158),V=n(68430),J=10,U=function(e){var t,n,o,l=e.uri,f=(0,m.zy)(),A=new URLSearchParams(f.search).get("pCountry"),H=(0,d.d4)(y.JJ),D=(0,s.useContext)(S.j).request,I=(0,c.q)({queryKey:["homeV2","section",l,{numberOfItems:20}],queryFn:(o=(0,i.A)(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageParam,e.abrupt("return",(0,x.c)(D,w.U3,{uri:l,timeZone:(0,L.Ff)(),sp_t:null!==(n=(0,g.v8)("sp_t"))&&void 0!==n?n:"",country:null!=A?A:H,sectionItemsOffset:a,sectionItemsLimit:20}));case 2:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)}),initialPageParam:0,getNextPageParam:function(e){var t,n;if("HomeSectionCollection"===(null==e||null===(t=e.data)||void 0===t||null===(t=t.homeSections)||void 0===t?void 0:t.__typename)&&"HomeSection"===(null===(n=e.data.homeSections.sections[0])||void 0===n?void 0:n.__typename)){var a,i=null===(a=e.data.homeSections.sections[0])||void 0===a?void 0:a.sectionItems.pagingInfo;return i.nextOffset&&i.nextOffset>0?i.nextOffset:void 0}},gcTime:L.gO,staleTime:L.jl}),O=I.data,k=I.isLoading,C=I.error,N=I.fetchNextPage,P=(0,s.useMemo)((function(){return null!=O&&O.pages?O.pages.reduce((function(e,t){var n,i,o;if(null==t||null===(n=t.data)||void 0===n||!n.homeSections||"HomeSectionCollection"!==(null==t||null===(i=t.data)||void 0===i?void 0:i.homeSections.__typename)||0===t.data.homeSections.sections.length)return e;switch(null===(o=t.data.homeSections.sections[0])||void 0===o?void 0:o.__typename){case"HomeSection":return null===e?(0,j.h)(t.data.homeSections.sections[0]):(e.sectionItems.items=[].concat((0,a.A)(e.sectionItems.items),(0,a.A)(t.data.homeSections.sections[0].sectionItems.items)),e);case"GenericError":case"NotFound":return e;default:return(0,_.k)(t.data.homeSections.sections[0]),e}}),null):null}),[null==O?void 0:O.pages]);if(k)return(0,b.jsx)("section",{"data-testid":"home-page",children:(0,b.jsx)("div",{className:V.A.home,children:(0,b.jsx)("div",{className:u()(V.A.content,"contentSpacing"),children:(0,b.jsx)(M,{cardCount:J})})})});if(null!==C)return(0,b.jsx)(v.A,{hasError:!0,errorMessage:h.Ru.get("error.generic")});var R=null==O||null===(t=O.pages[0])||void 0===t||null===(t=t.data)||void 0===t?void 0:t.homeSections;return"HomeSectionCollection"!==(null==R?void 0:R.__typename)||0===R.sections.length||"HomeSection"!==(null===(n=R.sections[0])||void 0===n?void 0:n.__typename)||null===P?(0,b.jsx)(v.A,{hasError:!0,errorMessage:h.Ru.get("error.generic")}):(0,b.jsx)("section",{"data-testid":"home-section-page",children:(0,b.jsx)(p._,{onReachBottom:N,children:(0,b.jsx)("div",{className:u()(V.A.home),children:(0,b.jsx)("div",{className:u()(V.A.content,"contentSpacing"),children:(0,b.jsx)(T,{section:P})})})})})};const q=function(e){var t=e.uri;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Q,{children:h.Ru.get("page.generic-title")}),(0,b.jsx)(U,{uri:t})]})}},8877:(e,t,n)=>{n.d(t,{h:()=>i});var a=n(44073);n(62172),n(60850),n(11141),n(2264),n(55815),n(77458),n(69645),n(61689),n(17185),n(11313),n(61081),n(85013),n(88732);function i(e){return"object"!==(0,a.A)(e)||null===e?e:window.structuredClone?window.structuredClone(e):JSON.parse(JSON.stringify(e))}}}]);
//# sourceMappingURL=home-v2-section.js.map