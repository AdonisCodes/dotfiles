"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1621],{93855:(e,t,n)=>{n.r(t),n.d(t,{SKELETON_CARDS_COUNT:()=>V,default:()=>U});var i=n(93209),o=n(95514),a=n(16247),s=n.n(a),r=(n(98168),n(60850),n(63222),n(69645),n(9981),n(36490),n(51168),n(93902),n(67626),n(4207),n(64334),n(9433),n(26308),n(84815),n(30758)),c=n(84353),l=n(97500),u=n.n(l),d=n(45976),m=n(61022),h=n(59081),v=n(85107),f=n(46317),p=n(30961),g=n(70084),S=n(2549),x=n(41485),_=n(8877),y=n(24865),j=n(43910),w=n(77174),H=(n(84008),n(50252),n(23908)),A=n(4906),D=n(71257),I=n(86070),O=function(e){var t,n,i=e.section;return(0,I.jsx)(A.p,{pageId:i.uri,title:null!==(t=null===(n=i.data.title)||void 0===n?void 0:n.text)&&void 0!==t?t:"",showAll:!0,index:0,id:i.uri,rowGap:H.lT,fullPage:!0,children:i.sectionItems.items.map(D.G)})},C=(n(83892),n(27989)),b=n(41721),k=n(33747),N=n(70465),P=function(e){var t=e.section;return(0,I.jsx)(k.x,{config:(0,N.s1)(N.yV.MUSIC_VIDEOS),children:(0,I.jsx)(A.p,{pageId:t.uri,title:h.Ru.get("music_videos"),showAll:!0,index:0,id:t.uri,rowGap:(0,C.po)("looser"),fullPage:!0,children:t.sectionItems.items.map((function(e,t){if("TrackResponseWrapper"!==e.content.__typename||"Track"!==e.content.data.__typename)return null;var n=e.content.data;return(0,I.jsx)(b.O,{title:n.name,trackUri:n.uri,artists:n.artists.items,album:n.albumOfTrack,contentRating:n.contentRating,referrerIdentifier:"other",index:t},n.uri)}))})})},R=n(24758),T=function(e){var t,n=e.section;switch(null===(t=n.data)||void 0===t?void 0:t.__typename){case"HomeGenericSectionData":return(0,I.jsx)(O,{section:(0,R.M)(n,n.data)});case"HomeMusicVideosSectionData":return(0,I.jsx)(P,{section:(0,R.M)(n,n.data)});case"HomeShortsSectionData":case"HomeRecentlyPlayedSectionData":case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeGridSectionData":case"HomeSpotlightSectionData":case"HomePromotionSectionData":case null:case void 0:case"HomeFeatureActivationSectionData":case"HomeWatchFeedSectionData":case"HomeOnboardingSectionDataV2":case"HomeYourDJSectionData":return null;case"HomeFeatureActivationSectionDataV2":return(0,I.jsx)(w.G,{sectionItems:n.sectionItems.items,showAll:!0,uri:n.uri,localStorageKey:n.data.localStorageKey});default:return(0,x.k)(n.data),null}},F=n(46052),G=n(82101),M=(0,r.memo)((function(e){var t=e.cardCount;return(0,I.jsx)(G._,{isLoading:!0,showAll:!0,withTitle:!0,children:(0,i.A)(new Array(t).keys()).map((function(e,t){return(0,I.jsx)(F.u,{isLoading:!0},t)}))})})),E=n(21158),L=n(68430),V=10,J=function(e){var t,n,a,l=e.uri,v=(0,m.zy)(),w=new URLSearchParams(v.search).get("pCountry"),H=(0,d.d4)(y.JJ),A=(0,r.useContext)(g.j).request,D=(0,c.q)({queryKey:["homeV2","section",l,{numberOfItems:20}],queryFn:(a=(0,o.A)(s().mark((function e(t){var n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.pageParam,e.abrupt("return",(0,S.c)(A,j.U3,{uri:l,timeZone:(0,E.Ff)(),sp_t:null!==(n=(0,p.v8)("sp_t"))&&void 0!==n?n:"",country:null!=w?w:H,sectionItemsOffset:i,sectionItemsLimit:20}));case 2:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),initialPageParam:0,getNextPageParam:function(e){var t,n;if("HomeSectionCollection"===(null==e||null===(t=e.data)||void 0===t||null===(t=t.homeSections)||void 0===t?void 0:t.__typename)&&"HomeSection"===(null===(n=e.data.homeSections.sections[0])||void 0===n?void 0:n.__typename)){var i,o=null===(i=e.data.homeSections.sections[0])||void 0===i?void 0:i.sectionItems.pagingInfo;return o.nextOffset&&o.nextOffset>0?o.nextOffset:void 0}},gcTime:E.gO,staleTime:E.jl}),O=D.data,C=D.isLoading,b=D.error,k=(0,r.useMemo)((function(){return null!=O&&O.pages?O.pages.reduce((function(e,t){var n,o,a;if(null==t||null===(n=t.data)||void 0===n||!n.homeSections||"HomeSectionCollection"!==(null==t||null===(o=t.data)||void 0===o?void 0:o.homeSections.__typename)||0===t.data.homeSections.sections.length)return e;switch(null===(a=t.data.homeSections.sections[0])||void 0===a?void 0:a.__typename){case"HomeSection":return null===e?(0,_.h)(t.data.homeSections.sections[0]):(e.sectionItems.items=[].concat((0,i.A)(e.sectionItems.items),(0,i.A)(t.data.homeSections.sections[0].sectionItems.items)),e);case"GenericError":case"NotFound":return e;default:return(0,x.k)(t.data.homeSections.sections[0]),e}}),null):null}),[null==O?void 0:O.pages]);if(C)return(0,I.jsx)("section",{"data-testid":"home-page",children:(0,I.jsx)("div",{className:L.A.home,children:(0,I.jsx)("div",{className:u()(L.A.content,"contentSpacing"),children:(0,I.jsx)(M,{cardCount:V})})})});if(null!==b)return(0,I.jsx)(f.A,{hasError:!0,errorMessage:h.Ru.get("error.generic")});var N=null==O||null===(t=O.pages[0])||void 0===t||null===(t=t.data)||void 0===t?void 0:t.homeSections;return"HomeSectionCollection"!==(null==N?void 0:N.__typename)||0===N.sections.length||"HomeSection"!==(null===(n=N.sections[0])||void 0===n?void 0:n.__typename)||null===k?(0,I.jsx)(f.A,{hasError:!0,errorMessage:h.Ru.get("error.generic")}):(0,I.jsx)("section",{"data-testid":"home-section-page",children:(0,I.jsx)("div",{className:L.A.home,children:(0,I.jsx)("div",{className:u()(L.A.content,"contentSpacing"),children:(0,I.jsx)(T,{section:k})})})})};const U=function(e){var t=e.uri;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(v.Q,{children:h.Ru.get("page.generic-title")}),(0,I.jsx)(J,{uri:t})]})}},8877:(e,t,n)=>{n.d(t,{h:()=>o});var i=n(44073);n(62172),n(60850),n(11141),n(2264),n(55815),n(77458),n(69645),n(61689),n(17185),n(11313),n(61081),n(85013),n(88732);function o(e){return"object"!==(0,i.A)(e)||null===e?e:window.structuredClone?window.structuredClone(e):JSON.parse(JSON.stringify(e))}}}]);
//# sourceMappingURL=home-v2-section.js.map