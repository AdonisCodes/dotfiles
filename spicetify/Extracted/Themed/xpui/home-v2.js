"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9319],{86515:(e,s,n)=>{n.r(s),n.d(s,{SKELETON_CARDS_COUNT:()=>me,SKELETON_SHELVES_COUNT:()=>pe,default:()=>xe});var t=n(93209),r=(n(38858),n(62172),n(60850),n(84008),n(69645),n(9981),n(36490),n(51168),n(50252),n(4207),n(64334),n(9433),n(26308),n(84815),n(30758)),i=n(97500),a=n.n(i),o=n(45976),c=n(61022),l=n(1409),d=n(75735),u=n(59081),p=n(85107),m=n(66590),g=n(46317),h=n(71128),x=n(47532),f=n(30961),b=n(36109),j=n(28480),v=n(90997),w=n(82035),y=n(66964),C=n(19919),S=n(24865),k=n(79031),N=n(39534),M=n(86070),A=function(){return(0,l.NC)(C.FAj)===C.z3X.ONHOME?(0,M.jsx)(k.g,{children:(0,M.jsx)(N.o,{onSearch:!1})}):null},R=n(43910),L=n(21158),P=n(54925),T=n(61957),_=n(13234),E=n(45755),D=n(71083),U=n(43407);const I="iC5KPBY1LYMrQkGPnG8m";var z=function(){var e=(0,o.wA)(),s=(0,U.s)(),n=(0,w.r)(E.V,{}).spec,t=(0,r.useCallback)((function(){e(D.r8.actions.open()),s.logInteraction(n.learnMoreButtonFactory().hitUiReveal())}),[e,s,n]);return(0,M.jsxs)(P.E,{as:"p",semanticColor:"textBase",className:I,children:[(0,M.jsx)(T.p,{size:"small"}),u.Ru.get("home.dsa-message",(0,M.jsx)(_.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:t,children:u.Ru.get("home.dsa-message-link")}))]})},B=n(1912),F=n(71526),O=n(81226),H=(n(98168),n(89715)),J=n(45286),W=n(32303),Y=n(87083),Z=n(96964),G=n(39418),Q=n(81260),V=n(18068);const K="oncgBAFkunsYPz4icLG7",X="bctyR0DdgoudSxC6j8nw",$="ZlJQ9zbhmUTk2MeTziP7",q="uOT2oirHdJA8NsGlsyA2",ee="_0Zn5lYC3o0cU44PBPnvN",se="V2fn7ev3_1mroI9UxjL7",ne="iNxrs2Niil0QTvUYbTxf";var te=function(e){var s=e.isMWP;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:"".concat(q," ").concat(ee),"aria-hidden":"true",children:[(0,M.jsx)("source",{src:(0,Z.b)("videos/Sw23-".concat(s?"Mobile":"Desktop","-Left.webm")),type:"video/webm; codecs=vp09.01.41.08"}),(0,M.jsx)("source",{src:(0,Z.b)("videos/Sw23-".concat(s?"Mobile":"Desktop","-Left.mp4")),type:"video/mp4"})]}),(0,M.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:"".concat(q," ").concat(se),"aria-hidden":"true",children:[(0,M.jsx)("source",{src:(0,Z.b)("videos/Sw23-".concat(s?"Mobile":"Desktop","-Right.webm")),type:"video/webm; codecs=vp09.01.41.08"}),(0,M.jsx)("source",{src:(0,Z.b)("videos/Sw23-".concat(s?"Mobile":"Desktop","-Right.mp4")),type:"video/mp4"})]})]})},re=function(e){var s=e.isMWP;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("picture",{children:[(0,M.jsx)("source",{srcSet:(0,Z.b)("images/Sw23-".concat(s?"Mobile":"Desktop","-Left.webp")),type:"image/webp"}),(0,M.jsx)("source",{srcSet:(0,Z.b)("images/Sw23-".concat(s?"Mobile":"Desktop","-Left.png")),type:"image/png"}),(0,M.jsx)("img",{className:"".concat(q," ").concat(ee),src:"",alt:""})]}),(0,M.jsxs)("picture",{children:[(0,M.jsx)("source",{srcSet:(0,Z.b)("images/Sw23-".concat(s?"Mobile":"Desktop","-Right.webp")),type:"image/webp"}),(0,M.jsx)("source",{srcSet:(0,Z.b)("images/Sw23-".concat(s?"Mobile":"Desktop","-Right.png")),type:"image/png"}),(0,M.jsx)("img",{className:"".concat(q," ").concat(se),src:"",alt:""})]})]})},ie=(0,r.forwardRef)((function(e,s){var n=e.linkUri,t=e.loggedIn,r=e.isMWP,i=e.isStatic,o=void 0!==i&&i,c=e.onClick,l=(0,Q.y)(),d=(0,V.j)();return(0,M.jsx)("div",{className:K,ref:s,children:(0,M.jsxs)("div",{className:(0,H.Ju)("invertedLight",a()(X,(0,O.A)({},$,r))),children:[o||d?(0,M.jsx)(re,{isMWP:r}):(0,M.jsx)(te,{isMWP:r}),(0,M.jsx)(J.Z,{as:"h2",variant:"brio",semanticColor:"textBase",className:ne,children:t?u.Ru.get("shared.wrapped-banner.title"):u.Ru.get("shared.wrapped-banner.title-loggedout")}),(0,M.jsx)(J.Z,{as:"p",variant:l===G.E.SMALL||r?"mesto":"ballad",semanticColor:"textBase",children:t?u.Ru.get("shared.wrapped-banner.body"):u.Ru.get("shared.wrapped-banner.body-loggedout")}),(0,M.jsx)(W.$,{colorSet:"invertedDark",iconTrailing:Y.H,href:n,target:"_blank",size:l===G.E.SMALL||r?"small":"medium",onClick:c,children:u.Ru.get("shared.wrapped-banner.button")})]})})})),ae=n(98359),oe=n(22865),ce=function(){var e=(0,F.V)(),s=(0,l.NC)(C.ATM),n=(0,ae.L)().openURLWithSessionTransfer,t=(0,w.r)(B.S,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),i=t.spec,a=t.logger,o=(0,r.useMemo)((function(){return i.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})}),[i]),c=(0,oe.t)(o),d="https://spotify.com/wrapped",u=(0,r.useCallback)((function(e){a.logInteraction(o.hitUiNavigate({destination:d})),n(d),e.preventDefault()}),[a,n,o]);return(0,M.jsx)(ie,{linkUri:d,loggedIn:!e,onClick:u,ref:c,isStatic:s})},le=n(8735),de=n(91990),ue=n(68430),pe=6,me=6,ge=(0,r.memo)((function(e){var s=e.shelfCount,n=e.cardCount;return(0,M.jsx)("section",{className:ue.A.home,"data-testid":"home-page",children:(0,M.jsxs)("div",{className:a()(ue.A.content,"contentSpacing"),children:[(0,M.jsx)(m.y,{withTitle:!1}),(0,t.A)(new Array(s).keys()).map((function(e,s){return(0,M.jsx)(de.f,{withTitle:!0,cardCount:n},s)}))]})})})),he=function(e){var s,n,t,r=e.spec;(0,x.m)("home");var i=(0,o.d4)(S.JJ),d=(0,c.zy)(),p=new URLSearchParams(d.search).get("pCountry"),m=(0,c.g)().subfeedId,j=void 0===m?null:m,v=(0,R.B8)({timeZone:(0,L.Ff)(),sp_t:null!==(s=(0,f.v8)("sp_t"))&&void 0!==s?s:"",country:null!=p?p:i,facet:j,sectionItemsLimit:10},{gcTime:L.gO,staleTime:L.jl}),w=v.data,y=v.error,k=v.fetching,N=(0,l.NC)(C.Y_Z),A=(0,l.NC)(C.ATM),P=N||A,T=!(0,h.p)();if(k)return(0,M.jsx)(ge,{shelfCount:pe,cardCount:me});if(null!==y)return(0,M.jsx)(g.A,{hasError:!0,errorMessage:u.Ru.get("error.generic")});var _=null==w?void 0:w.home;return"HomeResponsePayload"!==(null==_?void 0:_.__typename)?(0,M.jsx)(g.A,{hasError:!0,errorMessage:u.Ru.get("error.generic")}):0===_.sectionContainer.sections.totalCount||0===_.sectionContainer.sections.items.length?((0,b.Jy)(new Error("Empty response from pathfinder"),"Home"),(0,M.jsx)(g.A,{hasError:!0,errorMessage:u.Ru.get("error.generic")})):(0,M.jsx)("section",{className:a()(ue.A.home,ue.A.homepage),"data-testid":"home-page",children:(0,M.jsxs)("div",{className:a()(ue.A.content,"contentSpacing"),children:[P&&(0,M.jsx)(ce,{}),T&&(0,M.jsx)(z,{}),(0,M.jsx)(le.g,{spec:r,greeting:null!==(n=null===(t=_.greeting)||void 0===t?void 0:t.text)&&void 0!==n?n:null,container:_.sectionContainer,showDJCard:!0,showLearningCard:!0})]})})};const xe=function(){var e=(0,w.r)(d.Y,{data:{identifier:"home",uri:"spotify:home"}}).spec,s=(0,y.W)({type:"locale",uri:"home"});return(0,M.jsxs)(v.r,{spec:e,children:[(0,M.jsx)(p.Q,{children:(0,j.pr)({i18n:u.Ru,shouldLocalize:s})}),(0,M.jsx)(r.Suspense,{fallback:null,children:(0,M.jsx)(A,{})}),(0,M.jsx)(he,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.js.map