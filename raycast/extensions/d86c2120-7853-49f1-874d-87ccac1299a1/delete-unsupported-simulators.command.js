"use strict";var S=Object.create;var m=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty;var L=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),T=(e,r)=>{for(var t in r)m(e,t,{get:r[t],enumerable:!0})},f=(e,r,t,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of b(r))!U.call(e,s)&&s!==t&&m(e,s,{get:()=>r[s],enumerable:!(i=F(r,s))||i.enumerable});return e};var u=(e,r,t)=>(t=e!=null?S(k(e)):{},f(r||!e||!e.__esModule?m(t,"default",{value:e,enumerable:!0}):t,e)),$=e=>f(m({},"__esModule",{value:!0}),e);var g=L((G,v)=>{"use strict";var O=require("os"),D=O.homedir();v.exports=e=>{if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return D?e.replace(/^~(?=$|\/|\\)/,D):e}});var j={};T(j,{default:()=>X});module.exports=$(j);var a=require("@raycast/api");async function y(e,r,t,i){let s=await(0,a.showToast)({style:a.Toast.Style.Animated,title:e});try{let n=await i();return s.style=a.Toast.Style.Success,s.title=r,{isSuccess:!0,result:n,toast:s}}catch(n){return console.error(n),s.style=a.Toast.Style.Failure,s.title=t,s.message=`${n}`,{isSuccess:!1,toast:s}}}var h=require("child_process"),A=require("util"),c=(0,A.promisify)(h.exec);function d(e){let r;return Array.isArray(e)?r=e.map(t=>`-e '${t}'`).join(" "):r=`-e '${e}'`,c(`osascript ${r}`).then(t=>t.stdout)}var o=u(require("fs"));var x=o.default.promises.readdir,K=o.default.promises.mkdir,M=o.default.promises.rm,W=o.default.promises.readFile,_=o.default.promises.writeFile,z=o.default.promises.rm;var w=u(require("path")),P=u(g()),p=class{static clearDerivedData(){return d(['set dd to (path to home folder as string) & "Library:Developer:Xcode:DerivedData"','tell application "Finder"',"if dd exists then","move dd to trash","end if","end tell"]).then()}static removeDerivedData(r){let t=(0,P.default)("~/Library/Developer/Xcode/DerivedData");return x(t).then(i=>{let s=i.find(n=>n.split("-").slice(0,-1).join("-")===r);return s?d(`tell application "Finder" to delete POSIX file "${w.default.join(t,s)}"`).then():Promise.resolve()})}static clearSwiftPackageManagerCache(){return c("rm -rf ~/Library/org.swift.swiftpm && rm -rf ~/Library/Caches/org.swift.swiftpm").then()}static clearSwiftUIPreviewsCache(){return c("rm -rf ~/Library/Developer/Xcode/UserData/Previews").then()}static deleteUnsupportedSimulators(){return c("xcrun simctl delete unavailable").then()}};var l=require("@raycast/api"),X=async()=>{let e={icon:l.Icon.Trash,title:"Delete unsupported simulators",message:"Are you sure you want to delete all unsupported simulators?",primaryAction:{title:"Delete",style:l.Alert.ActionStyle.Destructive}};await(0,l.confirmAlert)(e)&&await y("Deleting unsupported simulators","Successfully deleted unsupported simulators","An error occurred while trying to delete unsupported simulators",p.deleteUnsupportedSimulators)};
