"use strict";var S=Object.create;var m=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var I=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),C=(e,r)=>{for(var t in r)m(e,t,{get:r[t],enumerable:!0})},u=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of U(r))!k.call(e,i)&&i!==t&&m(e,i,{get:()=>r[i],enumerable:!(o=F(r,i))||o.enumerable});return e};var f=(e,r,t)=>(t=e!=null?S(b(e)):{},u(r||!e||!e.__esModule?m(t,"default",{value:e,enumerable:!0}):t,e)),L=e=>u(m({},"__esModule",{value:!0}),e);var x=I((G,P)=>{"use strict";var T=require("os"),A=T.homedir();P.exports=e=>{if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return A?e.replace(/^~(?=$|\/|\\)/,A):e}});var O={};C(O,{default:()=>$});module.exports=L(O);var c=require("@raycast/api");async function y(e,r,t,o){let i=await(0,c.showToast)({style:c.Toast.Style.Animated,title:e});try{let a=await o();return i.style=c.Toast.Style.Success,i.title=r,{isSuccess:!0,result:a,toast:i}}catch(a){return console.error(a),i.style=c.Toast.Style.Failure,i.title=t,i.message=`${a}`,{isSuccess:!1,toast:i}}}var h=require("child_process"),w=require("util"),n=(0,w.promisify)(h.exec);function d(e){let r;return Array.isArray(e)?r=e.map(t=>`-e '${t}'`).join(" "):r=`-e '${e}'`,n(`osascript ${r}`).then(t=>t.stdout)}var s=f(require("fs"));var v=s.default.promises.readdir,K=s.default.promises.mkdir,M=s.default.promises.rm,W=s.default.promises.readFile,_=s.default.promises.writeFile,z=s.default.promises.rm;var g=f(require("path")),D=f(x()),p=class{static clearDerivedData(){return d(['set dd to (path to home folder as string) & "Library:Developer:Xcode:DerivedData"','tell application "Finder"',"if dd exists then","move dd to trash","end if","end tell"]).then()}static removeDerivedData(r){let t=(0,D.default)("~/Library/Developer/Xcode/DerivedData");return v(t).then(o=>{let i=o.find(a=>a.split("-").slice(0,-1).join("-")===r);return i?d(`tell application "Finder" to delete POSIX file "${g.default.join(t,i)}"`).then():Promise.resolve()})}static clearSwiftPackageManagerCache(){return n("rm -rf ~/Library/org.swift.swiftpm && rm -rf ~/Library/Caches/org.swift.swiftpm").then()}static clearSwiftUIPreviewsCache(){return n("rm -rf ~/Library/Developer/Xcode/UserData/Previews").then()}static deleteUnsupportedSimulators(){return n("xcrun simctl delete unavailable").then()}};var l=require("@raycast/api"),$=async()=>{let e={icon:l.Icon.Trash,title:"Clear SwiftUI Previews cache",message:"Are you sure you want to clear the SwiftUI Previews cache?",primaryAction:{title:"Clear",style:l.Alert.ActionStyle.Destructive}};await(0,l.confirmAlert)(e)&&await y("Clearing SwiftUI Previews cache","Successfully cleared SwiftUI Previews cache","An error occurred while trying to clear the SwiftUI Previews cache",p.clearSwiftUIPreviewsCache)};
